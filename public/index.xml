<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>é«˜æ–° | AIå¹³å°å¼€å‘ on é«˜æ–° | AIå¹³å°å¼€å‘å·¥ç¨‹å¸ˆ</title><link>https://mlcore-engine.github.io/</link><description>Recent content in é«˜æ–° | AIå¹³å°å¼€å‘ on é«˜æ–° | AIå¹³å°å¼€å‘å·¥ç¨‹å¸ˆ</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Sat, 19 Apr 2025 12:04:53 +0800</lastBuildDate><atom:link href="https://mlcore-engine.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>50ä¸ªå¸¸ç”¨Linuxå‘½ä»¤</title><link>https://mlcore-engine.github.io/linux_foundation/linux-commands/</link><pubDate>Wed, 03 Apr 2024 00:00:00 +0000</pubDate><guid>https://mlcore-engine.github.io/linux_foundation/linux-commands/</guid><description>&lt;h2 id="50-userful-linux-command">50-userful-linux-command&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>1.dmesg&lt;/th>
 &lt;th>2.dd&lt;/th>
 &lt;th>3.tcpdump&lt;/th>
 &lt;th>4.ss&lt;/th>
 &lt;th>5.top&lt;/th>
 &lt;th>6.du&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>7.iperf&lt;/td>
 &lt;td>8.find&lt;/td>
 &lt;td>9.awk&lt;/td>
 &lt;td>10.sed&lt;/td>
 &lt;td>11.grep&lt;/td>
 &lt;td>12.route&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>13.ip&lt;/td>
 &lt;td>14.lsof/fuser&lt;/td>
 &lt;td>15.netstat&lt;/td>
 &lt;td>16.rpm&lt;/td>
 &lt;td>17.dpkg&lt;/td>
 &lt;td>18.diff&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>19.ps&lt;/td>
 &lt;td>20.kill&lt;/td>
 &lt;td>21.unset&lt;/td>
 &lt;td>22.EOF &amp;raquo;&lt;/td>
 &lt;td>23.ç‰¹æ®Šç¬¦å·: % $ # &amp;amp;&lt;/td>
 &lt;td>24.until&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>25.cut&lt;/td>
 &lt;td>26.vmstat/mpstat&lt;/td>
 &lt;td>27.free&lt;/td>
 &lt;td>28.curl &amp;amp; wget&lt;/td>
 &lt;td>29.iptables&lt;/td>
 &lt;td>30.nmap&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>31.jq&lt;/td>
 &lt;td>32.sort&lt;/td>
 &lt;td>33.strace&lt;/td>
 &lt;td>34.uptime&lt;/td>
 &lt;td>35.iostat&lt;/td>
 &lt;td>36.sysctl/modelprobe&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>37.sar&lt;/td>
 &lt;td>38.brctl&lt;/td>
 &lt;td>39.bridge&lt;/td>
 &lt;td>&lt;/td>
 &lt;td>&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h4 id="top50">top50&lt;/h4>
&lt;h5 id="1dmesg">1.dmesg&lt;/h5>
&lt;p>å‘½ä»¤ç”¨äºæ˜¾ç¤ºå¼€æœºä¿¡æ¯&lt;/p>
&lt;h5 id="2dd">2.dd&lt;/h5>
&lt;h5 id="3tcpdump">3.tcpdump&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç»è¿‡eth0 ä¸»æœº 192.168.0.22&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump -i eth0 &lt;span style="color:#f92672">(&lt;/span>src / dst&lt;span style="color:#f92672">)&lt;/span> host 192.168.0.22
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç»è¿‡eth0 ç›®çš„ç«¯å£ 1234&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump -i eth0 dst port &lt;span style="color:#ae81ff">1234&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç»è¿‡eth0 æ‰€æœ‰udpåè®®çš„åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump -i eth0 udp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æœ¬åœ°ç¯è·¯æ•°æ®åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump -i lo udp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æŠ“å–æ‰€æœ‰ç»è¿‡1234ç«¯å£çš„UDPç½‘ç»œæ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump udp port &lt;span style="color:#ae81ff">1234&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æŠ“å–æ‰€æœ‰ç»è¿‡eth0 SYNç±»å‹æ•°æ®åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump -i eth0 &lt;span style="color:#e6db74">&amp;#39;tcp[tcpflags]=tcp-syn&amp;#39;&lt;/span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ‰€æœ‰ç»è¿‡eth0 çš„dnsæ•°æ®åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump -i eth0 udp dst port &lt;span style="color:#ae81ff">53&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcpdump tcp -i eth0 -t -s &lt;span style="color:#ae81ff">0&lt;/span> -c &lt;span style="color:#ae81ff">100&lt;/span> and dst port !22 and src net 192.168.1.0/24 -w /opt/tmp.cap
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#tcp: ip icmp arp rarp tcp udp icmp è¿™äº›å‚æ•°éƒ½è¦æ”¾åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä½ç½®ï¼Œç”¨æ¥è¿‡æ»¤æ•°æ®æŠ¥çš„ç±»å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#-i: æŒ‡å®šç½‘å¡&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#-s: -s 0 å¯ä»¥æŠ“åˆ°å®Œæ•´çš„æ•°æ®åŒ… é»˜è®¤æŠ“å–68å­—èŠ‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#-c: -c 100 åªæŠ“å–100ä¸ªæ•°æ®åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#dst port !22: ä¸æŠ“ç›®æ ‡ç«¯å£22&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#src net 192.168.1.0/24: æ•°æ®åŒ…æºipèŒƒå›´ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#-w: ä¿å­˜æˆæ–‡ä»¶ æ–¹ä¾¿wiresharkåˆ†æ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>tcpdump -D åˆ—å‡ºæ‰€æœ‰ç½‘å¡&lt;/p></description></item><item><title>stringç±»é¢˜ç›®</title><link>https://mlcore-engine.github.io/algorithm/strings/</link><pubDate>Sat, 19 Apr 2025 12:00:43 +0800</pubDate><guid>https://mlcore-engine.github.io/algorithm/strings/</guid><description>&lt;h2 id="-goè¯­è¨€å®ç°å­—ç¬¦ä¸²é¢˜ç›®çš„çŸ¥è¯†ç‚¹å›¾è°±">ğŸ§  Goè¯­è¨€å®ç°å­—ç¬¦ä¸²é¢˜ç›®çš„ã€ŒçŸ¥è¯†ç‚¹å›¾è°±ã€&lt;/h2>
&lt;pre tabindex="0">&lt;code>å­—ç¬¦ä¸²å¤„ç†
â”‚
â”œâ”€â”€ 1. åŸºç¡€æ“ä½œç±»
â”‚ â”œâ”€â”€ å»ç©ºæ ¼ / æå–å•è¯
â”‚ â”‚ â”œâ”€â”€ 58. Length of Last Word âœ”ï¸
â”‚ â”‚ â””â”€â”€ 151. Reverse Words in a String âœ”ï¸
â”‚ â”œâ”€â”€ å­—ç¬¦ä¸²æ¯”è¾ƒ / åˆ¤æ–­
â”‚ â”‚ â””â”€â”€ 125. Valid Palindrome âœ”ï¸
â”‚ â””â”€â”€ å‰ç¼€/åç¼€å¤„ç†
â”‚ â””â”€â”€ 14. Longest Common Prefix âœ”ï¸
â”‚
â”œâ”€â”€ 2. å­—ç¬¦ç»Ÿè®¡ç±»
â”‚ â”œâ”€â”€ 242. Valid Anagram
â”‚ â”œâ”€â”€ 387. First Unique Character in a String
â”‚ â””â”€â”€ 3. Longest Substring Without Repeating Characters
â”‚
â”œâ”€â”€ 3. åè½¬ä¸é‡æ„ç±»
â”‚ â”œâ”€â”€ 344. Reverse String
â”‚ â”œâ”€â”€ 541. Reverse String II
â”‚ â”œâ”€â”€ 151. Reverse Words in a String âœ”ï¸
â”‚ â””â”€â”€ 917. Reverse Only Letters
â”‚
â”œâ”€â”€ 4. åŒæŒ‡é’ˆåº”ç”¨ç±»
â”‚ â”œâ”€â”€ 680. Valid Palindrome II
â”‚ â”œâ”€â”€ 11. Container With Most Water (ç±»æ¯”)
â”‚ â””â”€â”€ 876. Middle of the Linked List (æ€è·¯ç›¸ä¼¼)
â”‚
â”œâ”€â”€ 5. æ¨¡æ‹Ÿç±» / å­—ç¬¦ä¸²æ„é€ 
â”‚ â”œâ”€â”€ 6. ZigZag Conversion
â”‚ â”œâ”€â”€ 43. Multiply Strings
â”‚ â””â”€â”€ 67. Add Binary
â”‚
â””â”€â”€ 6. é«˜çº§ç±»ï¼ˆKMPã€Rabin-Karpã€Trieï¼‰
 â”œâ”€â”€ 28. Implement strStr()
 â”œâ”€â”€ 686. Repeated String Match
 â””â”€â”€ 336. Palindrome Pairs
&lt;/code>&lt;/pre>&lt;hr>
&lt;h2 id="-æ¯ç±»ä»£è¡¨é¢˜ç›®è¯¦è§£">ğŸ§© æ¯ç±»ä»£è¡¨é¢˜ç›®è¯¦è§£&lt;/h2>
&lt;h3 id="-1-åŸºç¡€æ“ä½œç±»">âœ… 1. ã€åŸºç¡€æ“ä½œç±»ã€‘&lt;/h3>
&lt;p>&lt;strong>58. Length of Last Word&lt;/strong>&lt;/p></description></item><item><title>ä¿¡æ¯é‡</title><link>https://mlcore-engine.github.io/math_foundation/information/</link><pubDate>Fri, 18 Apr 2025 17:06:32 +0800</pubDate><guid>https://mlcore-engine.github.io/math_foundation/information/</guid><description>&lt;h2 id="ä»€ä¹ˆæ˜¯ä¿¡æ¯é‡">ä»€ä¹ˆæ˜¯ä¿¡æ¯é‡ï¼Ÿ&lt;/h2>
&lt;p>&lt;strong>ä¿¡æ¯é‡&lt;/strong>æ˜¯ä¿¡æ¯è®ºä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œç”¨æ¥è¡¡é‡æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶æ‰€å¸¦æ¥çš„â€œæƒŠå–œâ€æˆ–â€œä¸ç¡®å®šæ€§å‡å°‘â€çš„ç¨‹åº¦ã€‚å®ƒç”±å…‹åŠ³å¾·Â·é¦™å†œï¼ˆClaude Shannonï¼‰æå‡ºï¼Œå¹¿æ³›åº”ç”¨äºé€šä¿¡ã€æ•°æ®å‹ç¼©ç­‰é¢†åŸŸã€‚ç®€å•æ¥è¯´ï¼Œä¿¡æ¯é‡çš„å¤§å°ä¸äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡å¯†åˆ‡ç›¸å…³ï¼š&lt;/p></description></item><item><title>ä¼¼ç„¶å‡½æ•°_äº¤å‰ç†µ</title><link>https://mlcore-engine.github.io/math_foundation/likelihood_entropy/</link><pubDate>Fri, 18 Apr 2025 11:51:21 +0800</pubDate><guid>https://mlcore-engine.github.io/math_foundation/likelihood_entropy/</guid><description>&lt;h3 id="æœ€å°äºŒä¹˜æ³•-äº¤å‰ç†µ-æå¤§ä¼¼ç„¶ä¼°è®¡-æ¨å¯¼è¿‡ç¨‹">æœ€å°äºŒä¹˜æ³• äº¤å‰ç†µ æå¤§ä¼¼ç„¶ä¼°è®¡ æ¨å¯¼è¿‡ç¨‹&lt;/h3>
&lt;p>åœ¨å­¦ä¹ ç¥ç»ç½‘ç»œè¿‡ç¨‹ä¸­ï¼Œç»å¸¸èƒ½å¬åˆ° äº¤å‰ç†µæŸå¤±å’Œæå¤§ä¼¼ç„¶ä¼°è®¡ç­‰æ¦‚å¿µï¼Œ ä¸‹é¢è®²è§£ æœ€å°äºŒä¹˜æ³•ã€äº¤å‰ç†µã€æå¤§ä¼¼ç„¶ä¼°è®¡ç›´æ¥çš„è”ç³»å’Œæ¨å¯¼è¿‡ç¨‹ã€‚&lt;/p></description></item><item><title>Klæ•£åº¦ä¸dpoç®—æ³•</title><link>https://mlcore-engine.github.io/math_foundation/kl_dpo/</link><pubDate>Thu, 17 Apr 2025 16:51:04 +0800</pubDate><guid>https://mlcore-engine.github.io/math_foundation/kl_dpo/</guid><description>&lt;hr>
&lt;h2 id="klæ•£åº¦">KLæ•£åº¦&lt;/h2>
&lt;h3 id="klæ•£åº¦å…¬å¼çš„å®šä¹‰">KLæ•£åº¦å…¬å¼çš„å®šä¹‰&lt;/h3>
&lt;p>&lt;strong>Kullback-Leibler (KL) æ•£åº¦&lt;/strong> æ˜¯ä¿¡æ¯è®ºå’Œæœºå™¨å­¦ä¹ ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œç”¨äºè¡¡é‡ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ã€‚å…¶æ•°å­¦å…¬å¼ä¸ºï¼š&lt;/p>
&lt;p>$$
KL(P||Q) = \sum_{x \in X} P(x) \log\left(\frac{P(x)}{Q(x)}\right)
$$&lt;/p>
&lt;p>è¿™ä¸ªå…¬å¼è¡¨ç¤ºåˆ†å¸ƒ $ P $ ç›¸å¯¹äºåˆ†å¸ƒ $ Q $ çš„æ•£åº¦ã€‚å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„è·ç¦»ï¼Œå› ä¸ºå®ƒä¸å¯¹ç§°ï¼Œå³ $ KL(P||Q) \neq KL(Q||P) $ã€‚&lt;/p></description></item><item><title>Do_sample_para</title><link>https://mlcore-engine.github.io/transformer/do_sample_para/</link><pubDate>Wed, 16 Apr 2025 17:11:57 +0800</pubDate><guid>https://mlcore-engine.github.io/transformer/do_sample_para/</guid><description>&lt;h5 id="åœ¨å¤§è¯­è¨€æ¨¡å‹å¾®è°ƒå’Œé‡‡æ ·è¿‡ç¨‹ä¸­æœ‰å‡ ä¸ªé‡è¦çš„é‡‡æ ·å‚æ•°éœ€è¦æ‡‚å¾—ä¸‹é¢æˆ‘å°†è®²è§£ä¸‰ä¸ªç‰¹åˆ«é‡è¦çš„é‡‡æ ·å‚æ•°è¿™3ä¸ªå‚æ•°çš„è®¾ç½®ä¼šç›´æ¥å½±å“æ¨¡å‹çš„è¡¨ç°é¡ºä¾¿å†è§£é‡Šä¸€ä¸‹ç»å¸¸çœ‹åˆ°çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µlogits">åœ¨å¤§è¯­è¨€æ¨¡å‹å¾®è°ƒå’Œé‡‡æ ·è¿‡ç¨‹ä¸­æœ‰å‡ ä¸ªé‡è¦çš„é‡‡æ ·å‚æ•°éœ€è¦æ‡‚å¾—ï¼Œä¸‹é¢æˆ‘å°†è®²è§£ä¸‰ä¸ªç‰¹åˆ«é‡è¦çš„é‡‡æ ·å‚æ•°ï¼Œè¿™3ä¸ªå‚æ•°çš„è®¾ç½®ä¼šç›´æ¥å½±å“æ¨¡å‹çš„è¡¨ç°ã€‚é¡ºä¾¿å†è§£é‡Šä¸€ä¸‹ç»å¸¸çœ‹åˆ°çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µlogitsã€‚&lt;/h5>
&lt;ul>
&lt;li>&lt;strong>top_k&lt;/strong>&lt;/li>
&lt;li>&lt;strong>top_p&lt;/strong>&lt;/li>
&lt;li>&lt;strong>temperature&lt;/strong>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h4 id="èƒŒæ™¯è¯­è¨€æ¨¡å‹çš„æ¦‚ç‡åˆ†å¸ƒ">&lt;strong>èƒŒæ™¯ï¼šè¯­è¨€æ¨¡å‹çš„æ¦‚ç‡åˆ†å¸ƒ&lt;/strong>&lt;/h4>
&lt;p>å‡è®¾è¯­è¨€æ¨¡å‹åœ¨é¢„æµ‹ä¸‹ä¸€ä¸ªè¯æ—¶ï¼Œé¢å¯¹ä¸€ä¸ªåŒ…å« 5 ä¸ªè¯çš„è¯æ±‡è¡¨ï¼š[&amp;ldquo;çŒ«&amp;rdquo;, &amp;ldquo;ç‹—&amp;rdquo;, &amp;ldquo;é¸Ÿ&amp;rdquo;, &amp;ldquo;é±¼&amp;rdquo;, &amp;ldquo;é©¬&amp;rdquo;]ã€‚æ¨¡å‹ä¼šä¸ºæ¯ä¸ªè¯åˆ†é…ä¸€ä¸ªæ¦‚ç‡ï¼Œä¾‹å¦‚ï¼š&lt;/p></description></item><item><title>åŠ¨æ€è§„åˆ’é—®é¢˜</title><link>https://mlcore-engine.github.io/algorithm/dynamic-programmnig/</link><pubDate>Thu, 10 Apr 2025 10:21:50 +0800</pubDate><guid>https://mlcore-engine.github.io/algorithm/dynamic-programmnig/</guid><description>&lt;h3 id="åŠ¨æ€è§„åˆ’å‡ ä¸ªåœºæ™¯é—®é¢˜å’Œç†è§£">åŠ¨æ€è§„åˆ’å‡ ä¸ªåœºæ™¯é—®é¢˜å’Œç†è§£&lt;/h3>
&lt;h4 id="åŠ¨æ€è§„åˆ’é—®é¢˜çš„æœ¬è´¨">åŠ¨æ€è§„åˆ’é—®é¢˜çš„æœ¬è´¨&lt;/h4>
&lt;p>åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programming, DPï¼‰æ˜¯ä¸€ç§é€šè¿‡å°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºæ›´å°çš„å­é—®é¢˜æ¥è§£å†³ä¼˜åŒ–é—®é¢˜çš„ç®—æ³•ç­–ç•¥ã€‚å®ƒåœ¨è®¡ç®—æœºç§‘å­¦ä¸­åº”ç”¨å¹¿æ³›ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦å¯»æ‰¾æœ€ä¼˜è§£çš„åœºæ™¯ä¸­ã€‚åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å­˜å‚¨å­é—®é¢˜çš„è§£æ¥é¿å…é‡å¤è®¡ç®—ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ä»¥ä¸‹å°†è¯¦ç»†è®²è§£åŠ¨æ€è§„åˆ’çš„æœ¬è´¨ã€åœ¨è®¡ç®—æœºä½“ç³»æ¶æ„ä¸­çš„è¿è¡Œæ–¹å¼ã€çŠ¶æ€è½¬ç§»çš„æœ¬è´¨ï¼Œå¹¶é€šè¿‡å…·ä½“ä¾‹å­å¸®åŠ©ç†è§£ï¼Œæœ€åä»åº•å±‚åŸç†å½»åº•é˜é‡Šã€‚&lt;/p></description></item><item><title>Entropy</title><link>https://mlcore-engine.github.io/transformer/entropy/</link><pubDate>Mon, 07 Apr 2025 10:57:56 +0800</pubDate><guid>https://mlcore-engine.github.io/transformer/entropy/</guid><description>&lt;h3 id="å¯¹äºentropyçš„ç†è§£">å¯¹äºEntropyçš„ç†è§£&lt;/h3>
&lt;p>$H(X) = -\sum_{i=1}^{n} p(x_i) \log_2 p(x_i)$&lt;/p>
&lt;hr>
&lt;h4 id="1-å…¬å¼çš„ç›´è§‚è§£é‡Š">1. &lt;strong>å…¬å¼çš„ç›´è§‚è§£é‡Š&lt;/strong>&lt;/h4>
&lt;p>å…ˆæ¥çœ‹çœ‹å…¬å¼é‡Œæ¯ä¸ªéƒ¨åˆ†çš„å«ä¹‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>$H(X)$&lt;/strong>ï¼šè¡¨ç¤ºéšæœºå˜é‡ $X$ çš„ç†µï¼Œä¹Ÿå°±æ˜¯ä¸ç¡®å®šæ€§çš„åº¦é‡ã€‚&lt;/li>
&lt;li>&lt;strong>$p(x_i)$&lt;/strong>ï¼šç¬¬ $i$ ä¸ªå¯èƒ½ç»“æœçš„æ¦‚ç‡ï¼Œä»‹äº 0 åˆ° 1 ä¹‹é—´ã€‚&lt;/li>
&lt;li>&lt;strong>$\log_2 p(x_i)$&lt;/strong>ï¼šå¯¹æ¦‚ç‡å–ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°ã€‚å› ä¸º $p(x_i)$ æ˜¯å°äº 1 çš„æ•°ï¼Œæ‰€ä»¥ $\log_2 p(x_i)$ æ˜¯è´Ÿå€¼ã€‚&lt;/li>
&lt;li>&lt;strong>è´Ÿå·å’Œæ±‚å’Œ&lt;/strong>ï¼šå¯¹æ‰€æœ‰å¯èƒ½ç»“æœçš„ $p(x_i) \log_2 p(x_i)$ æ±‚å’Œï¼Œç„¶åå–è´Ÿå·ï¼Œä½¿ç†µå˜æˆæ­£å€¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸ºä»€ä¹ˆç”¨è´Ÿå·ï¼Ÿ&lt;/strong>&lt;br>
å› ä¸º $p(x_i)$ å°äº 1 æ—¶ï¼Œ$\log_2 p(x_i)$ æ˜¯è´Ÿæ•°ï¼Œ$p(x_i) \log_2 p(x_i)$ ä¹Ÿæ˜¯è´Ÿæ•°ã€‚åŠ ä¸€ä¸ªè´Ÿå·åï¼Œç†µ $H(X)$ å˜æˆæ­£æ•°ï¼Œç›´è§‚åœ°åæ˜ ä¸ç¡®å®šæ€§çš„å¤§å°ã€‚&lt;/p></description></item><item><title>Foundation</title><link>https://mlcore-engine.github.io/golang/foundation/</link><pubDate>Fri, 04 Apr 2025 19:24:42 +0800</pubDate><guid>https://mlcore-engine.github.io/golang/foundation/</guid><description/></item><item><title>Workout</title><link>https://mlcore-engine.github.io/exercise/workout/</link><pubDate>Thu, 03 Apr 2025 15:46:35 +0800</pubDate><guid>https://mlcore-engine.github.io/exercise/workout/</guid><description/></item><item><title>ä½¿ç”¨ Hugo å’Œ GitHub Pages åˆ›å»ºä¸ªäººç½‘ç«™</title><link>https://mlcore-engine.github.io/others/create-hugo-gitpage/</link><pubDate>Thu, 03 Apr 2025 15:35:22 +0800</pubDate><guid>https://mlcore-engine.github.io/others/create-hugo-gitpage/</guid><description>&lt;h4 id="å‰ææ¡ä»¶">å‰ææ¡ä»¶&lt;/h4>
&lt;p>æœ¬æŒ‡å—å‡è®¾ä½ å·²ç»æœ‰ GitHub è´¦æˆ·ã€‚&lt;/p>
&lt;h4 id="æ­¥éª¤1åˆ›å»º-github-ä»“åº“">æ­¥éª¤1ï¼šåˆ›å»º GitHub ä»“åº“&lt;/h4>
&lt;p>åœ¨ GitHub åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼Œä»“åº“åå¿…é¡»æ˜¯ &lt;code>ç”¨æˆ·å.github.io&lt;/code>&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ GitHub ç”¨æˆ·åæ˜¯ &lt;code>mlcore-engine&lt;/code>ï¼Œåˆ™åˆ›å»ºçš„ä»“åº“ååº”ä¸º &lt;code>mlcore-engine.github.io&lt;/code>&lt;/p></description></item><item><title>Installation</title><link>https://mlcore-engine.github.io/kubernetes/installation/</link><pubDate>Thu, 03 Apr 2025 15:16:15 +0800</pubDate><guid>https://mlcore-engine.github.io/kubernetes/installation/</guid><description>&lt;h2 id="éƒ¨ç½²è„šæœ¬">éƒ¨ç½²è„šæœ¬ï¼š &lt;a href="https://gitee.com/MLcore-Engine/ai-infra-deploy">https://gitee.com/MLcore-Engine/ai-infra-deploy&lt;/a>&lt;/h2>
&lt;h2 id="update-core">update core&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#é…ç½®é˜¿é‡Œyumæºå‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆç¼“å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum clean all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum makecache
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum -y update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>//load pubilc key install elrepo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rpm -import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>//install el repo meta
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum list available --disablerepo&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;*&amp;#39;&lt;/span> --enablerepo&lt;span style="color:#f92672">=&lt;/span>elrepo-kernel
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>//view available install eprepo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum --disablerepo&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">\*&lt;/span> --enablerepo&lt;span style="color:#f92672">=&lt;/span>elrepo-kernel list kernel
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#install kernel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum remove kernel-tools-libs.x86_64 kernel-tools.x86_64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#yum -y --enablerepo=elrepo-kernel install kernel-ml.x86_64 kernel-ml-tools.x86_64&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum --enablerepo&lt;span style="color:#f92672">=&lt;/span>elrepo-kernel install kernel-ml kernel-ml-devel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="startup-kernel-sequence">startup kernel sequence&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#view all available kernel on the system&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>awk -F&lt;span style="color:#ae81ff">\&amp;#39;&lt;/span> &lt;span style="color:#e6db74">&amp;#39;$1==&amp;#34;menuentry &amp;#34; {print $2}&amp;#39;&lt;/span> /etc/grub2.cfg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#set boot new kernel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>grub2-set-default &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¿è¡Œgrub2-mkconfigå‘½ä»¤æ¥é‡æ–°åˆ›å»ºå†…æ ¸é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>grub2-mkconfig -o /boot/grub2/grub.cfg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="basic-environment">basic environment&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>systemctl stop firewalld &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl disable firewalld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sed -i &lt;span style="color:#e6db74">&amp;#39;/^SELINUX=/c SELINUX=disabled&amp;#39;&lt;/span> /etc/selinux/config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>setenforce &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>swapoff -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sed -i &lt;span style="color:#e6db74">&amp;#39;s/^.*centos-swap/#&amp;amp;/g&amp;#39;&lt;/span> /etc/fstab
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /etc/hosts
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">master 192.168.31.127
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">kube 192.168.31.128
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>//
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ¿€æ´» br_netfilter æ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>modprobe br_netfilter
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF &amp;gt; /etc/modules-load.d/k8s.conf
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">br_netfilter
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># å†…æ ¸å‚æ•°è®¾ç½®ï¼šå¼€å¯IPè½¬å‘ï¼Œå…è®¸iptableså¯¹bridgeçš„æ•°æ®è¿›è¡Œå¤„ç†&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF &amp;gt; /etc/sysctl.d/k8s.conf 
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">net.ipv4.ip_forward = 1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">net.bridge.bridge-nf-call-iptables = 1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">net.bridge.bridge-nf-call-ip6tables = 1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ç«‹å³ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> apt-get install -y apt-transport-https ca-certificates curl gpg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#time sync&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#master node&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum install -y chrony
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sed -i &lt;span style="color:#e6db74">&amp;#39;s/^server/#&amp;amp;/&amp;#39;&lt;/span> /etc/chrony.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &amp;gt;&amp;gt; /etc/chrony.conf &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">server ntp1.aliyun.com iburst
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">local stratum 10
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">allow
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl restart chronyd &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl enable chronyd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#node&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum install -y chrony
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sed -i &lt;span style="color:#e6db74">&amp;#39;s/^server/#&amp;amp;/&amp;#39;&lt;/span> /etc/chrony.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &amp;gt;&amp;gt; /etc/chrony.conf &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">server 172.16.101.11 iburst
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl restart chronyd &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl enable chronyd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-zsh" data-lang="zsh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ‰¾åˆ°æœ€å¤§çš„ç£ç›˜ æŒ‚è½½åˆ°/dataç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ln -s /data/kubelet /var/lib/kubelet
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ln -s /data/docker /var/lib/docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="install-docker">install docker&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#centos&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum remove docker &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-client &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-client-latest &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-common &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-latest &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-latest-logrotate &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-logrotate &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> docker-engine
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install -y yum-utils
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install docker-ce docker-ce-cli containerd.io -y
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">##ubuntu&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; &lt;span style="color:#66d9ef">do&lt;/span> sudo apt-get remove $pkg; &lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Add Docker&amp;#39;s official GPG key:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install ca-certificates curl
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo install -m &lt;span style="color:#ae81ff">0755&lt;/span> -d /etc/apt/keyrings
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo chmod a+r /etc/apt/keyrings/docker.asc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Add the repository to Apt sources:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>echo &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#e6db74">&amp;#34;deb [arch=&lt;/span>&lt;span style="color:#66d9ef">$(&lt;/span>dpkg --print-architecture&lt;span style="color:#66d9ef">)&lt;/span>&lt;span style="color:#e6db74"> signed-by=/etc/apt/keyrings/docker.asc] https://mirrors.aliyun.com/docker-ce/linux/ubuntu \
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &lt;/span>&lt;span style="color:#66d9ef">$(&lt;/span>. /etc/os-release &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> echo &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$VERSION_CODENAME&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#66d9ef">)&lt;/span>&lt;span style="color:#e6db74"> stable&amp;#34;&lt;/span> | &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> sudo tee /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install docker-ce docker-ce-cli containerd.io 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum install -y yum-utils device-mapper-persistent-data lvm2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum install -y docker-ce-20.10
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl enable docker &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl start docker 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF &amp;gt; /etc/docker/daemon.json
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">{
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;registry-mirrors&amp;#34;: [&amp;#34;https://h3blxdss.mirror.aliyuncs.com&amp;#34;],
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;exec-opts&amp;#34;: [&amp;#34;native.cgroupdriver=systemd&amp;#34;],
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;insecure-registries&amp;#34;: [&amp;#34;registry-tgq.harbor.com&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">}
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> systemctl daemon-reload &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl restart docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="install-kubeadm">install kubeadm&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF &amp;gt; /etc/yum.repos.d/kubernetes.repo
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">[kubernetes]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">name=Kubernetes
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">enabled=1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">gpgcheck=1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">repo_gpgcheck=1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum install -y --nogpgcheck kubelet-1.23.6 kubeadm-1.23.6 kubectl-1.23.6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum install --nogpgcheck --downloadonly --downloaddir&lt;span style="color:#f92672">=&lt;/span>/opt/kubeadm kubelet-1.23.6 kubeadm-1.23.6 kubectl-1.23.6
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#yum install -y kubelet kubeadm kubectl&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl enable kubelet &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl start kubelet
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> kubeadm config images list 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> kubeadm config images pull --image-repository&lt;span style="color:#f92672">=&lt;/span>registry.aliyuncs.com/google_containers --kubernetes-version&lt;span style="color:#f92672">=&lt;/span>v1.23.6
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubeadm config images list --image-repository&lt;span style="color:#f92672">=&lt;/span>registry.aliyuncs.com/google_containers
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="init-master">init master&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>kubeadm init --image-repository&lt;span style="color:#f92672">=&lt;/span>registry.aliyuncs.com/google_containers --kubernetes-version&lt;span style="color:#f92672">=&lt;/span>v1.23.6 --service-cidr&lt;span style="color:#f92672">=&lt;/span>10.1.0.0/16 --pod-network-cidr&lt;span style="color:#f92672">=&lt;/span>10.244.0.0/16
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#--apiserver-cert-extra-sans å…¬ç½‘ipæˆ–è€…åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># è¦å¼€å§‹ä½¿ç”¨é›†ç¾¤ï¼Œæ‚¨éœ€è¦ä»¥å¸¸è§„ç”¨æˆ·èº«ä»½è¿è¡Œä»¥ä¸‹å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir -p $HOME/.kube
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo chown &lt;span style="color:#66d9ef">$(&lt;/span>id -u&lt;span style="color:#66d9ef">)&lt;/span>:&lt;span style="color:#66d9ef">$(&lt;/span>id -g&lt;span style="color:#66d9ef">)&lt;/span> $HOME/.kube/config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æˆ–è€…ï¼Œå¦‚æœæ‚¨æ˜¯rootç”¨æˆ·ï¼Œåˆ™å¯ä»¥è¿è¡Œå…è®¸å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export KUBECONFIG&lt;span style="color:#f92672">=&lt;/span>/etc/kubernetes/admin.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#éƒ¨ç½²flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ³¨æ„ä¿®æ”¹ip pool ä¸ --pod-network-cidr ä¸€è‡´&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># éƒ¨ç½²calico&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>æŠŠcalico.yamlé‡Œpodæ‰€åœ¨ç½‘æ®µæ”¹æˆkubeadm initæ—¶é€‰é¡¹--pod-network-cidræ‰€æŒ‡å®šçš„ç½‘æ®µ 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- name: CALICO_IPV4POOL_CIDR
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>value: &lt;span style="color:#e6db74">&amp;#34;10.244.0.0/16&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Disable file logging so `kubectl logs` works.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- name: CALICO_DISABLE_FILE_LOGGING
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>value: &lt;span style="color:#e6db74">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># deploy controller oeprator&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.0/manifests/tigera-operator.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#deploy resource&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.0/manifests/custom-resources.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="flannel-yaml">flannel yaml&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">Namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">k8s-app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">pod-security.kubernetes.io/enforce&lt;/span>: &lt;span style="color:#ae81ff">privileged&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ClusterRole&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">rbac.authorization.k8s.io/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">k8s-app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">rules&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">apiGroups&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">resources&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">pods&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">get&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">apiGroups&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">resources&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">nodes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">get&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">list&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">watch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">apiGroups&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">resources&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">nodes/status&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">patch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">apiGroups&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">networking.k8s.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">resources&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">clustercidrs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">list&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">watch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ClusterRoleBinding&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">rbac.authorization.k8s.io/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">k8s-app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">roleRef&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">apiGroup&lt;/span>: &lt;span style="color:#ae81ff">rbac.authorization.k8s.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ClusterRole&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">subjects&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ServiceAccount&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ServiceAccount&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">k8s-app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ConfigMap&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel-cfg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">tier&lt;/span>: &lt;span style="color:#ae81ff">node&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">k8s-app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">data&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">cni-conf.json&lt;/span>: |&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;name&amp;#34;: &amp;#34;cbr0&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;cniVersion&amp;#34;: &amp;#34;0.3.1&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;plugins&amp;#34;: [
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;type&amp;#34;: &amp;#34;flannel&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;delegate&amp;#34;: {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;hairpinMode&amp;#34;: true,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;isDefaultGateway&amp;#34;: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;type&amp;#34;: &amp;#34;portmap&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;capabilities&amp;#34;: {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;portMappings&amp;#34;: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">net-conf.json&lt;/span>: |&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;Network&amp;#34;: &amp;#34;10.244.0.0/16&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;Backend&amp;#34;: {
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &amp;#34;Type&amp;#34;: &amp;#34;vxlan&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> }&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">apps/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">DaemonSet&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel-ds&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">tier&lt;/span>: &lt;span style="color:#ae81ff">node&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">k8s-app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">spec&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">selector&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">matchLabels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">template&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">labels&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">tier&lt;/span>: &lt;span style="color:#ae81ff">node&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">app&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">spec&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">affinity&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">nodeAffinity&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">requiredDuringSchedulingIgnoredDuringExecution&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">nodeSelectorTerms&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">matchExpressions&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">key&lt;/span>: &lt;span style="color:#ae81ff">kubernetes.io/os&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">operator&lt;/span>: &lt;span style="color:#ae81ff">In&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">values&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">linux&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hostNetwork&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">priorityClassName&lt;/span>: &lt;span style="color:#ae81ff">system-node-critical&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">tolerations&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">operator&lt;/span>: &lt;span style="color:#ae81ff">Exists&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">effect&lt;/span>: &lt;span style="color:#ae81ff">NoSchedule&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">serviceAccountName&lt;/span>: &lt;span style="color:#ae81ff">flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">initContainers&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">install-cni-plugin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">image&lt;/span>: &lt;span style="color:#ae81ff">docker.io/flannel/flannel-cni-plugin:v1.1.2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">#image: docker.io/rancher/mirrored-flannelcni-flannel-cni-plugin:v1.1.2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">command&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">cp&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">args&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - -&lt;span style="color:#ae81ff">f&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/opt/cni/bin/flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumeMounts&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">cni-plugin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">mountPath&lt;/span>: &lt;span style="color:#ae81ff">/opt/cni/bin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">install-cni&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">image&lt;/span>: &lt;span style="color:#ae81ff">docker.io/flannel/flannel:v0.22.0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">#image: docker.io/rancher/mirrored-flannelcni-flannel:v0.22.0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">command&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">cp&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">args&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - -&lt;span style="color:#ae81ff">f&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/etc/kube-flannel/cni-conf.json&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/etc/cni/net.d/10-flannel.conflist&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumeMounts&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">cni&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">mountPath&lt;/span>: &lt;span style="color:#ae81ff">/etc/cni/net.d&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel-cfg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">mountPath&lt;/span>: &lt;span style="color:#ae81ff">/etc/kube-flannel/&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">containers&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">image&lt;/span>: &lt;span style="color:#ae81ff">docker.io/flannel/flannel:v0.22.0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">#image: docker.io/rancher/mirrored-flannelcni-flannel:v0.22.0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">command&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/opt/bin/flanneld&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">args&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - --&lt;span style="color:#ae81ff">ip-masq&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - --&lt;span style="color:#ae81ff">kube-subnet-mgr&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">resources&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">requests&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">cpu&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;100m&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">memory&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;50Mi&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">securityContext&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">privileged&lt;/span>: &lt;span style="color:#66d9ef">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">capabilities&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">add&lt;/span>: [&lt;span style="color:#e6db74">&amp;#34;NET_ADMIN&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;NET_RAW&amp;#34;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">env&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">POD_NAME&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">valueFrom&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fieldRef&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fieldPath&lt;/span>: &lt;span style="color:#ae81ff">metadata.name&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">POD_NAMESPACE&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">valueFrom&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fieldRef&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fieldPath&lt;/span>: &lt;span style="color:#ae81ff">metadata.namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">EVENT_QUEUE_DEPTH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">value&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;5000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumeMounts&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">run&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">mountPath&lt;/span>: &lt;span style="color:#ae81ff">/run/flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel-cfg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">mountPath&lt;/span>: &lt;span style="color:#ae81ff">/etc/kube-flannel/&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">xtables-lock&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">mountPath&lt;/span>: &lt;span style="color:#ae81ff">/run/xtables.lock&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumes&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">run&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hostPath&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>: &lt;span style="color:#ae81ff">/run/flannel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">cni-plugin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hostPath&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>: &lt;span style="color:#ae81ff">/opt/cni/bin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">cni&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hostPath&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>: &lt;span style="color:#ae81ff">/etc/cni/net.d&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">flannel-cfg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">configMap&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">kube-flannel-cfg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">xtables-lock&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hostPath&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>: &lt;span style="color:#ae81ff">/run/xtables.lock&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">type&lt;/span>: &lt;span style="color:#ae81ff">FileOrCreate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="calico-yaml">calico yaml&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># This section includes base Calico installation configuration.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># For more information, see: https://projectcalico.docs.tigera.io/master/reference/installation/api#operator.tigera.io/v1.Installation&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">operator.tigera.io/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">Installation&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">default&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">spec&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Configures Calico networking.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">calicoNetwork&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Note: The ipPools section cannot be modified post-install.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ipPools&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">blockSize&lt;/span>: &lt;span style="color:#ae81ff">26&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">cidr&lt;/span>: &lt;span style="color:#ae81ff">192.168.0.0&lt;/span>&lt;span style="color:#ae81ff">/16&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">encapsulation&lt;/span>: &lt;span style="color:#ae81ff">VXLANCrossSubnet&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">natOutgoing&lt;/span>: &lt;span style="color:#ae81ff">Enabled&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">nodeSelector&lt;/span>: &lt;span style="color:#ae81ff">all()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># This section configures the Calico API server.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># For more information, see: https://projectcalico.docs.tigera.io/master/reference/installation/api#operator.tigera.io/v1.APIServer&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">operator.tigera.io/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">APIServer&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">default&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">spec&lt;/span>: {}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="add-node">add node&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#get token and ca&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubeadm token list | awk -F&lt;span style="color:#e6db74">&amp;#34; &amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#39;{print $1}&amp;#39;&lt;/span> |tail -n &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>openssl x509 -pubkey -in /etc/kubernetes/pki/ca.crt | openssl rsa -pubin -outform der 2&amp;gt;/dev/null | openssl dgst -sha256 -hex | sed &lt;span style="color:#e6db74">&amp;#39;s/^ .* //&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubeadm join 192.168.31.127:6443 --token &amp;lt;toekn&amp;gt; --discovery-token-ca-cert-hash sha256:&amp;lt;ca&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="gpu">GPU&lt;/h2>
&lt;h3 id="install-nvidia-docker2">install nvidia-docker2&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#Setup the repository and the GPG key:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>distribution&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">$(&lt;/span>. /etc/os-release;echo $ID$VERSION_ID&lt;span style="color:#66d9ef">)&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.repo | sudo tee /etc/yum.repos.d/nvidia-container-toolkit.repo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo yum clean expire-cache
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install -y nvidia-docker2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl restart docker
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo docker run --rm --gpus all nvidia/cuda:11.6.2-base-ubuntu20.04 nvidia-smi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="install-nvidia-driver-for-centos7">install nvidia-driver for centos7&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#update version&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum clean all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#éªŒè¯ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬å’Œå®‰è£…å¼€å‘åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install -y gcc gcc-c++ kernel-devel-&lt;span style="color:#66d9ef">$(&lt;/span>uname -r&lt;span style="color:#66d9ef">)&lt;/span> kernel-headers-&lt;span style="color:#66d9ef">$(&lt;/span>uname -r&lt;span style="color:#66d9ef">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#éªŒè¯gccçš„ç‰ˆæœ¬ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gcc --version
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç”±äºCUDA 11.3è¦æ±‚GCCçš„ç‰ˆæœ¬æ˜¯6ä»¥ä¸Šï¼Œä¸‹é¢æ˜¯å®‰è£…GCC7çš„è„šæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install centos-release-scl
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install devtoolset-7
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># launch a new shell instance using the Software Collection scl tool:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scl enable devtoolset-7 bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gcc --version
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ£€æŸ¥å½“å‰é©±åŠ¨æƒ…å†µ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install https://www.elrepo.org/elrepo-release-7.el7.elrepo.noarch.rpm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install nvidia-detect &lt;span style="color:#75715e"># å®‰è£…nvida-detect&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nvidia-detect -v &lt;span style="color:#75715e"># æ£€æµ‹èƒ½å¤Ÿå‡çº§åˆ°çš„é©±åŠ¨å™¨ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat /proc/driver/nvidia/version &lt;span style="color:#75715e"># æŸ¥çœ‹å½“å‰é©±åŠ¨ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¸è½½ä¹‹å‰é©±åŠ¨ã€‚å¦‚æœç¬¬ä¸€æ¬¡å®‰è£…ï¼Œå¿½ç•¥&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo /usr/bin/nvidia-uninstall
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å±è”½nouveauæ˜¾å¡é©±åŠ¨ï¼ŒæŠŠnvidiafbä»å±è”½åˆ—è¡¨ä¸­ç§»é™¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo rm -rf disable-nouveau.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt; EOF &amp;gt; disable-nouveau.conf
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">blacklist nouveau
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">options nouveau modeset=0
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo chown root:root disable-nouveau.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo chmod &lt;span style="color:#ae81ff">644&lt;/span> disable-nouveau.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo mv disable-nouveau.conf /etc/modprobe.d/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat /etc/modprobe.d/disable-nouveau.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ll /etc/modprobe.d/disable-nouveau.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#é‡å»º initramfs é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl set-default multi-user.target &lt;span style="color:#75715e">#è®¾ç½®è¿è¡Œçº§åˆ«ä¸ºæ–‡æœ¬æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo shutdown -r now
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ä¸‹è½½é©±åŠ¨åŒ… NVIDIA-Linux-x86_64-525.60.13.run (https://www.nvidia.com/Download/index.aspx?lang=en-us)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NVIDIA-Linux-x86_64-525.60.13.run
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo rpm -ivh http://elrepo.org/linux/kernel/el7/x86_64/RPMS/kernel-ml-devel-6.3.2-1.el7.elrepo.x86_64.rpm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lsmod | grep nouveau &lt;span style="color:#75715e">#æŸ¥çœ‹nouveauæ˜¯å¦å·²ç»ç¦ç”¨, åº”è¯¥æ²¡æœ‰è¿”å›å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nvidia_run&lt;span style="color:#f92672">=&lt;/span>NVIDIA-Linux-x86_64-460.84.run
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod &lt;span style="color:#ae81ff">755&lt;/span> $nvidia_run
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ./$nvidia_run
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl set-default graphical.target &lt;span style="color:#75715e">#è®¾ç½®è¿è¡Œçº§åˆ«å›å›¾å½¢æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl get-default
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo shutdown -r now
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat /proc/driver/nvidia/version 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nvidia-smi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç£ç›˜åˆ†åŒºæŒ‚è½½">ç£ç›˜åˆ†åŒºæŒ‚è½½&lt;/h2>
&lt;h3 id="parted">parted&lt;/h3>
&lt;pre tabindex="0">&lt;code>$ parted /dev/sdb mklabel gpt

$ parted /dev/sdb mkpart primary xfs 0% 100%

$ mkfs.xfs /dev/sdb1

$ mount /dev/sdb1 /data

$ df -hT /data

æ–‡ä»¶ç³»ç»Ÿ ç±»å‹ å®¹é‡ å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹

/dev/sdb1 xfs 100G 33M 100G 1% /data

$ vim /etc/fstab

/dev/sdb1 /data xfs defaults 0 0

# å®ç°å¼€æœºè‡ªåŠ¨æŒ‚è½½
&lt;/code>&lt;/pre>&lt;h3 id="fdisk">fdisk&lt;/h3>
&lt;pre tabindex="0">&lt;code>fdisk /dev/sdb
n è¿›å…¥åˆ†åŒºçŠ¶æ€
p ä¸»åˆ†åŒº
åˆ†åŒºå¤§å° é»˜è®¤å³å¯
w ä¿å­˜
mke2fs -t ext4 /dev/sdb1
mount /dev/sdb1 ~/newpath
ä¿®æ”¹ /etc/fstab 
UUID=c61117ca-9176-4d0b-be4d-1b0f434359a7 /newpath ext4 defaults 0 0 
UUID çš„è·å–å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤ blkid /dev/sdb1
æœ€åæ‰§è¡Œ mount -a 
&lt;/code>&lt;/pre>&lt;h3 id="èŠ‚ç‚¹é›†ç¾¤é—´è¿ç§»">èŠ‚ç‚¹é›†ç¾¤é—´è¿ç§»&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>kubeadm reset
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl stop kubelet
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl stop docker
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm -rf /var/lib/cni/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm -rf /var/lib/kubelet/*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm -rf /etc/cni/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm -rf /var/lib/etcd/*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ifconfig cni0 down
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ifconfig flannel.1 down
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ifconfig docker0 down
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip link set cni0 down &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> ip link set flannel.1 down 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip link delete cni0 &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> ip link delete flannel.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl restart docker &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> systemctl restart kubelet
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm -rf /root/.kube/config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ç„¶åæ‰§è¡Œå‘½ä»¤åŠ å…¥åˆ°å…¶ä»–é›†ç¾¤
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="masteré‡æ–°åŠ å…¥é›†ç¾¤">masteré‡æ–°åŠ å…¥é›†ç¾¤&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æˆ‘ä»¬æœ‰æ—¶å€™ä¼šæœ‰åˆ é™¤masterèŠ‚ç‚¹ï¼Œå†é‡æ–°åŠ å…¥masterèŠ‚ç‚¹çš„éœ€æ±‚ï¼Œæ¯”å¦‚masteræœºå™¨æ”¹åã€‚è¿™é‡Œæ³¨æ„é‡æ–°åŠ å…¥æ—¶ï¼Œç»å¸¸ä¼šå‡ºç°etcdæŠ¥é”™&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>check-etcd&lt;span style="color:#f92672">]&lt;/span> Checking that the etcd cluster is healthy error executionini phase check-etcd: etcd cluster is not healthy: failed to dial endpoint https://ip:2379 with maintenance client: context deadline exceeded
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦å»è¿˜æ²¡æœ‰åœæ­¢çš„masterèŠ‚ç‚¹é‡Œçš„etcdçš„podé‡Œå»ï¼Œåˆ é™¤è¯¥è€masterèŠ‚ç‚¹å¯¹åº”çš„etcdä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl drain master01
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl delete node master01
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#master01 æ‰§è¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubeadm reset
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm -rf /etc/kubernetes/manifests/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl exec -it etcd-master02 sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>etcdctl --endpoints 127.0.0.1:2379 --cacert /etc/kubernetes/pki/etcd/ca.crt --cert /etc/kubernetes/pki/etcd/server.crt --key /etc/kubernetes/pki/etcd/server.key member list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ‰¾åˆ°å¯¹åº”çš„hash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>etcdctl --endpoints 127.0.0.1:2379 --cacert /etc/kubernetes/pki/etcd/ca.crt --cert /etc/kubernetes/pki/etcd/server.crt --key /etc/kubernetes/pki/etcd/server.key member remove 12637f5ec2bd02b8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubeadm init phase upload-certs --upload-certs &lt;span style="color:#75715e"># è¿”å›certificates-key&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ‰§è¡ŒåŠ å…¥å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>You can now join any number of the control-plane node running the following command on each as root:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> kubeadm join 172.16.101.211:9443 --token abcdef.0123456789abcdef &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --discovery-token-ca-cert-hash sha256:ae579faf241a307a860d0a9e9ba1e308fe0e7a6006b90ece97eb42dfe9fc59b8 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --control-plane --certificate-key 79d731d185a93121e73899c10445f5fcaeac8d33155f5402c48bed5543f59e3b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Please note that the certificate-key gives access to cluster sensitive data, keep it secret!
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>As a safeguard, uploaded-certs will be deleted in two hours; If necessary, you can use
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">&amp;#34;kubeadm init phase upload-certs --upload-certs&amp;#34;&lt;/span> to reload certs afterward.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Then you can join any number of worker nodes by running the following on each as root:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubeadm join 172.16.101.211:9443 --token abcdef.0123456789abcdef &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --discovery-token-ca-cert-hash sha256:ae579faf241a307a860d0a9e9ba1e308fe0e7a6006b90ece97eb42dfe9fc59b8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> kubeadm join 172.16.101.211:9443 --token abcdef.0123456789abcdef &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --discovery-token-ca-cert-hash sha256:ae579faf241a307a860d0a9e9ba1e308fe0e7a6006b90ece97eb42dfe9fc59b8 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --control-plane --certificate-key 28d8cd85b5b90fe7603c599915521c20dc5ab5e6be28b52d904b44efb91eed19
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç¦»çº¿å®‰è£…æ•™ç¨‹">ç¦»çº¿å®‰è£…æ•™ç¨‹&lt;/h3>
&lt;pre tabindex="0">&lt;code>https://cloud.tencent.com/developer/article/2165251
&lt;/code>&lt;/pre>&lt;p>ç¦»çº¿å®‰è£…NFS&lt;/p></description></item><item><title>Linux Common</title><link>https://mlcore-engine.github.io/linux_foundation/linux-common/</link><pubDate>Thu, 03 Apr 2025 13:50:45 +0800</pubDate><guid>https://mlcore-engine.github.io/linux_foundation/linux-common/</guid><description>&lt;h6 id="0é…ç½®é˜¿é‡Œyumæº">0.é…ç½®é˜¿é‡Œyumæº&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#é…ç½®é˜¿é‡Œyumæºå‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆç¼“å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum clean all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum makecache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="2æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬">2.æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æŸ¥çœ‹ç³»ç»Ÿå‘è¡Œç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lsb_release -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat /etc/redhat-release
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æŸ¥çœ‹linuxå†…æ ¸ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>uname -a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="3centosä¸­çš„tmpfs">3.centosä¸­çš„tmpfs&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ˜¯ä¸€ç§ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒå°†ä¸€éƒ¨åˆ†ç³»ç»Ÿå†…å­˜ç”¨ä½œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºä¸´æ—¶å­˜å‚¨æ•°æ®ã€‚tmpfs çš„ä½œç”¨æ˜¯æä¾›ä¸€ä¸ªåŸºäºå†…å­˜çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨ä¸´æ—¶æ–‡ä»¶ã€ç¼“å­˜æ•°æ®ã€ä¸´æ—¶è¿è¡Œæ—¶æ–‡ä»¶ç­‰ï¼Œä»è€Œåœ¨è®¸å¤šæƒ…å†µä¸‹æé«˜æ€§èƒ½å’Œæ•ˆç‡ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/dev/shm &lt;span style="color:#75715e">#åŒ…å«å…±äº«å†…å­˜åˆ†é…&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/run &lt;span style="color:#75715e">#ç”¨äºç³»ç»Ÿæ—¥å¿—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/sys/fs/cgroup &lt;span style="color:#75715e">#ç”¨äºcgroup ä¸€ä¸ªé’ˆå¯¹ç‰¹å®šè¿›ç¨‹é™åˆ¶ ç®¡ç†å’Œå®¡è®¡èµ„æºåˆ©ç”¨çš„å†…æ ¸ç‰¹æ€§&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ä½ å¯ä»¥ä½¿ç”¨systemctlå‘½ä»¤åœ¨tmpç›®å½•å¯ç”¨tmpfsï¼Œ é¦–å…ˆç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ£€æŸ¥è¿™ä¸ªç‰¹æ€§æ˜¯å¦å¯ç”¨ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl is-enabled tmp.mount
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¿™ä¼šæ˜¾ç¤ºå½“å…ˆçš„çŠ¶æ€ï¼Œï¼ˆå¦‚æœæœªå¯ç”¨ï¼Œï¼‰ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯ç”¨å®ƒï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl enable tmp.mount
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¯ä»¥åœ¨/etc/fstabä¸­æ·»åŠ ä¸‹é¢è¿™è¡Œï¼Œæ¥æ‰‹å·¥åœ¨/tmpä¸‹æŒ‚è½½ tmpfs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tmpfs /tmp tmpfs size&lt;span style="color:#f92672">=&lt;/span>512m &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="4mountå‘½ä»¤ç”¨æ³•å’Œé—®é¢˜">4.mountå‘½ä»¤ç”¨æ³•å’Œé—®é¢˜&lt;/h6>
&lt;ul>
&lt;li>mountç”¨æ³•&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>æŒ‚è½½æ–¹æ³•ï¼š mount Device MOUNT_POINT
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-t vsftype: æŒ‡å®šè¦æŒ‚è½½çš„è®¾å¤‡ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-r readonly : åªè¯»æŒ‚è½½ 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-w read and write: è¯»å†™æŒ‚è½½ 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-L :ä»¥å·æ ‡æŒ‡å®šæŒ‚è½½è®¾å¤‡ 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-U : ä»¥uuidæŒ‡å®šè¦æŒ‚è½½çš„è®¾å¤‡
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-B --bind : ç»‘å®šç›®å½•åˆ°å¦ä¸€ä¸ªç›®å½•ä¸Š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¸è½½å‘½ä»¤umount&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>umount DEVICE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>umount MOUNT_POINT
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#é‡æ–°æŒ‚è½½å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mount -o remount /dev/shm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å½“åŠ å…¥ä¸€å—æ–°è®¾å¤‡æ—¶ 1.è¦å¯¹è®¾å¤‡è¿›è¡Œæ ¼å¼åŒ–ï¼ˆåˆ¶ä½œæ–‡ä»¶ç³»ç»Ÿï¼‰ 2. å°†å…¶æŒ‚è½½åˆ°æŒ‡å®šç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ ¼å¼åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkfs -t ext4 /dev/sdb
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æŒ‚è½½&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mount /dev/sdb /xxx/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¿›é˜¶ç‰ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ mount
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sysfs on /sys type sysfs &lt;span style="color:#f92672">(&lt;/span>rw,nosuid,nodev,noexec,relatime,seclabel&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¾“å‡ºä¿¡æ¯çš„æ ¼å¼å’Œå«ä¹‰&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fs_spec on fs_file type fs_vfstype &lt;span style="color:#f92672">(&lt;/span>fs_mntopts&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fs_spec:æŒ‚è½½çš„å—è®¾å¤‡æˆ–è€…è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fs_file:æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fs_vfstype:æ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fs_mntopts:ä¸æ–‡ä»¶ç³»ç»Ÿçš„ç›¸å…³é€‰é¡¹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ç¬¬ä¸€è¡Œçš„å«ä¹‰:æŒ‚è½½çš„è®¾å¤‡æ˜¯sysfs æŒ‚è½½ç‚¹æ˜¯/sys æ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹æ˜¯sysfs æ‹¬å·ä¸­rwä»£è¡¨å¯è¯»å†™çš„æ–¹å¼æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ noexecè¡¨ç¤ºä¸èƒ½å†è¯¥æ–‡ä»¶ç³»ç»Ÿä¸Šç›´æ¥è¿è¡Œç¨‹åº
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>overlay&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>mkdir layer1 layer2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir ./rootfs/&lt;span style="color:#f92672">{&lt;/span>merged,diff,work&lt;span style="color:#f92672">}&lt;/span> -p
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mount -t overlay overlay -o lowerdir&lt;span style="color:#f92672">=&lt;/span>./layer1:./layer2,upperdir&lt;span style="color:#f92672">=&lt;/span>./rootfs/diff,workdir&lt;span style="color:#f92672">=&lt;/span>./rootfs/work ./rootfs/merged
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>merged:æŒ‚è½½ç‚¹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>diff: upper
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>work: work
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#é—®é¢˜æè¿°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å½“åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹å¹¶ä¸”æŒ‚è½½procæ—¶ï¼Œé€€å‡ºååœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ mount ä¼šå‡ºç°ä¸‹é¢çš„é”™è¯¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mount: failed to read mtab: No such file or directory
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è§£å†³åŠæ³• æ‰§è¡Œä¸‹è¾¹çš„å‘½ä»¤ å°±å¯ä»¥åœ¨ç»ˆç«¯æ‰§è¡Œmountå‘½ä»¤äº†&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mount -t proc proc /proc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="5å‡ ä¸ªå¸¸ç”¨çš„å…³æœºå‘½ä»¤">5.å‡ ä¸ªå¸¸ç”¨çš„å…³æœºå‘½ä»¤&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>halt: å…³æœºä½†ä¸å…³é—­ç”µæºï¼ˆåŠ på‚æ•°å…³é—­ç”µæºï¼‰ä¸åŠ å‚æ•°æ—¶è°ƒç”¨shutdownå‘½ä»¤
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>halt -p ç›¸å½“äºpoweroff
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>halt -f å¼ºåˆ¶å…³æœº
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>halt -i å…³æœºæˆ–é‡å¯å‰å…³é—­æ‰€æœ‰ç½‘ç»œæ¥å£
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shutdownå®é™…ä¸Šæ˜¯è°ƒç”¨init 0, init 0ä¼šcleanupä¸€äº›å·¥ä½œç„¶åè°ƒç”¨haltæˆ–è€…poweroffã€‚å…¶å®ä¸»è¦åŒºåˆ«æ˜¯haltå’Œpoweroffï¼Œåœ¨æ²¡æœ‰acpiçš„ç³»ç»Ÿä¸Šï¼Œhaltåªæ˜¯å…³é—­äº†osï¼Œç”µæºè¿˜åœ¨å·¥ä½œï¼Œä½ å¾—æ‰‹åŠ¨å–æŒ‰ä¸€ä¸‹é‚£ä¸ªæŒ‰é’®ï¼Œè€Œpoweroffä¼šå‘é€ä¸€ä¸ªå…³é—­ç”µæºçš„ä¿¡å·ç»™acpiã€‚ä½†åœ¨ç°åœ¨çš„ç³»ç»Ÿä¸Šï¼Œä»–ä»¬å®é™…ä¸Šéƒ½ä¸€æ ·äº†
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="6lsblkå‘½ä»¤">6.lsblkå‘½ä»¤&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>lsblkå¯ä»¥åˆ—å‡ºæ‰€æœ‰å¯ç”¨å—è®¾å¤‡çš„ä¿¡æ¯ã€‚æ¯”å¦‚é€»è¾‘ç£ç›˜ï¼Œè€Œdf -h æ˜¯æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçº§åˆ«çš„ä¿¡æ¯
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME: å—è®¾å¤‡çš„åç§°ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>MAJ:MIN: ä¸»è®¾å¤‡å·å’Œæ¬¡è®¾å¤‡å·ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†è®¾å¤‡ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RM: å¯ç§»é™¤æ€§æ ‡å¿—ï¼Œ0 è¡¨ç¤ºè®¾å¤‡ä¸å¯ç§»é™¤ï¼Œ1 è¡¨ç¤ºè®¾å¤‡å¯ç§»é™¤ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>SIZE: è®¾å¤‡çš„æ€»å¤§å°ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RO: åªè¯»æ ‡å¿—ï¼Œ0 è¡¨ç¤ºè®¾å¤‡å¯è¯»å†™ï¼Œ1 è¡¨ç¤ºè®¾å¤‡åªè¯»ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TYPE: è®¾å¤‡çš„ç±»å‹ï¼Œå¦‚ disk è¡¨ç¤ºç¡¬ç›˜ï¼Œpart è¡¨ç¤ºåˆ†åŒºï¼Œrom è¡¨ç¤ºåªè¯»å…‰ç›˜ç­‰ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>MOUNTPOINT: å¦‚æœè®¾å¤‡å·²æŒ‚è½½ï¼Œæ˜¾ç¤ºæŒ‚è½½ç‚¹ï¼›å¦‚æœæœªæŒ‚è½½ï¼Œè¯¥å­—æ®µä¸ºç©ºã€‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="7å¿«æ·é”®">7.å¿«æ·é”®&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>1.ctrl+a &lt;span style="color:#75715e">#å…‰æ ‡å›åˆ°è¡Œé¦–&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2.ctrl+e &lt;span style="color:#75715e">#å…‰æ ‡å›åˆ°è¡Œå°¾&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>3.ctrl+w &lt;span style="color:#75715e">#ç§»é™¤å…‰æ ‡å‰çš„ä¸€ä¸ªå•è¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>4.Ctrl+k &lt;span style="color:#75715e">#åˆ é™¤å…‰æ ‡å¤„åˆ°è¡Œå°¾çš„å­—ç¬¦&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>5.Ctrl+y &lt;span style="color:#75715e">#ç²˜è´´Ctrl+uï¼ŒCtrl+kï¼ŒCtrl+wåˆ é™¤çš„æ–‡æœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>6.Esc+b &lt;span style="color:#75715e">#ç§»åŠ¨åˆ°å½“å‰å•è¯çš„å¼€å¤´&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>7.Esc+f &lt;span style="color:#75715e">#ç§»åŠ¨åˆ°å½“å‰å•è¯çš„ç»“å°¾&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>8.Ctrl+d &lt;span style="color:#75715e">#å‘è¡Œå°¾åˆ é™¤ä¸€ä¸ªå­—ç¬¦&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="8-snat-dnat-masquerade">8. snat dnat MASQUERADE&lt;/h6>
&lt;p>&lt;a href="https://www.cnblogs.com/Dicky-Zhang/p/5934657.html">https://www.cnblogs.com/Dicky-Zhang/p/5934657.html&lt;/a>&lt;/p></description></item></channel></rss>