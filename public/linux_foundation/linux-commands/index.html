<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>50个常用Linux命令 - 高新 | AI平台开发工程师</title>
<meta name=description content="Linux系统管理与使用的核心命令"><meta name=generator content="Hugo 0.145.0"><link href=https://mlcore-engine.github.io//index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://mlcore-engine.github.io/linux_foundation/linux-commands/><link rel=stylesheet href=https://mlcore-engine.github.io/css/theme.min.css><link rel=stylesheet href=https://mlcore-engine.github.io/css/chroma.min.css><script defer src=https://mlcore-engine.github.io//js/fontawesome6/all.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js integrity="sha256-H3cjtrm/ztDeuhCN9I4yh4iN2Ybx/y1RM7rMmAesA0k=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js integrity="sha256-4XodgW4TwIJuDtf+v6vDJ39FVxI0veC/kSCCmnFp7ck=" crossorigin=anonymous></script><script src=https://mlcore-engine.github.io/js/bundle.js></script><style>@media screen and (min-width:480px){.sidebar{flex:0 0 20%!important;max-width:20%!important}main{flex:0 0 80%!important;max-width:80%!important}}</style><meta property="og:url" content="https://mlcore-engine.github.io/linux_foundation/linux-commands/"><meta property="og:site_name" content="高新 | AI平台开发工程师"><meta property="og:title" content="50个常用Linux命令"><meta property="og:description" content="Linux系统管理与使用的核心命令"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="linux_foundation"><meta property="article:published_time" content="2024-04-03T00:00:00+00:00"><meta property="article:modified_time" content="2024-04-03T00:00:00+00:00"><meta property="og:image" content="https://mlcore-engine.github.io/home/me.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mlcore-engine.github.io/home/me.png"><meta name=twitter:title content="50个常用Linux命令"><meta name=twitter:description content="Linux系统管理与使用的核心命令"><meta itemprop=name content="50个常用Linux命令"><meta itemprop=description content="Linux系统管理与使用的核心命令"><meta itemprop=datePublished content="2024-04-03T00:00:00+00:00"><meta itemprop=dateModified content="2024-04-03T00:00:00+00:00"><meta itemprop=wordCount content="10711"><meta itemprop=image content="https://mlcore-engine.github.io/home/me.png"><link rel=apple-touch-icon sizes=180x180 href=/favicon/favicon.png><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><link rel=manifest href=/favicon/site.webmanifest><link rel=mask-icon href=/favicon/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config content="/favicon/browserconfig.xml"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=/css/math.css><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},svg:{fontCache:"global"}}</script><script id=MathJax-script async src=/js/mathjax/tex-svg.js></script></head><body><div class=container><header><h1>高新 | AI平台开发工程师</h1><a href=https://github.com/mlcore-engine/mlcore-engine class=github><i class="fab fa-github"></i></a></header><div class=content-container><main><h1>50个常用Linux命令</h1><h2 id=50-userful-linux-command>50-userful-linux-command</h2><table><thead><tr><th>1.dmesg</th><th>2.dd</th><th>3.tcpdump</th><th>4.ss</th><th>5.top</th><th>6.du</th></tr></thead><tbody><tr><td>7.iperf</td><td>8.find</td><td>9.awk</td><td>10.sed</td><td>11.grep</td><td>12.route</td></tr><tr><td>13.ip</td><td>14.lsof/fuser</td><td>15.netstat</td><td>16.rpm</td><td>17.dpkg</td><td>18.diff</td></tr><tr><td>19.ps</td><td>20.kill</td><td>21.unset</td><td>22.EOF &#187;</td><td>23.特殊符号: % $ # &</td><td>24.until</td></tr><tr><td>25.cut</td><td>26.vmstat/mpstat</td><td>27.free</td><td>28.curl & wget</td><td>29.iptables</td><td>30.nmap</td></tr><tr><td>31.jq</td><td>32.sort</td><td>33.strace</td><td>34.uptime</td><td>35.iostat</td><td>36.sysctl/modelprobe</td></tr><tr><td>37.sar</td><td>38.brctl</td><td>39.bridge</td><td></td><td></td><td></td></tr></tbody></table><h4 id=top50>top50</h4><h5 id=1dmesg>1.dmesg</h5><p>命令用于显示开机信息</p><h5 id=2dd>2.dd</h5><h5 id=3tcpdump>3.tcpdump</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#经过eth0  主机 192.168.0.22</span>
</span></span><span style=display:flex><span>tcpdump -i eth0 <span style=color:#f92672>(</span>src / dst<span style=color:#f92672>)</span> host 192.168.0.22
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#经过eth0 目的端口 1234</span>
</span></span><span style=display:flex><span>tcpdump -i eth0 dst port <span style=color:#ae81ff>1234</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#经过eth0 所有udp协议的包</span>
</span></span><span style=display:flex><span>tcpdump -i eth0 udp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#本地环路数据包</span>
</span></span><span style=display:flex><span>tcpdump -i lo udp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#抓取所有经过1234端口的UDP网络数据</span>
</span></span><span style=display:flex><span>tcpdump udp port <span style=color:#ae81ff>1234</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#抓取所有经过eth0 SYN类型数据包</span>
</span></span><span style=display:flex><span>tcpdump -i eth0 <span style=color:#e6db74>&#39;tcp[tcpflags]=tcp-syn&#39;</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#所有经过eth0 的dns数据包</span>
</span></span><span style=display:flex><span>tcpdump -i eth0 udp dst port <span style=color:#ae81ff>53</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tcpdump tcp -i eth0 -t -s <span style=color:#ae81ff>0</span> -c <span style=color:#ae81ff>100</span> and dst port !22 and src net 192.168.1.0/24 -w /opt/tmp.cap
</span></span><span style=display:flex><span><span style=color:#75715e>#tcp: ip icmp arp rarp tcp udp icmp 这些参数都要放到第一个参数位置，用来过滤数据报的类型</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#-i: 指定网卡</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#-s: -s 0 可以抓到完整的数据包 默认抓取68字节</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#-c: -c 100  只抓取100个数据包</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#dst port !22: 不抓目标端口22</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#src net 192.168.1.0/24: 数据包源ip范围 </span>
</span></span><span style=display:flex><span><span style=color:#75715e>#-w: 保存成文件 方便wireshark分析</span>
</span></span></code></pre></div><p>tcpdump -D 列出所有网卡</p><p>tcpdump -c 抓取多少条报文</p><p>tcpdump &ndash;time-stamp-precision 指定捕获时的时间精度 默认毫秒 可选纳秒 nano</p><p>tcpdump -s 指定每条报文的最大字节数 默认262144字节</p><p>• -e 显示数据链路层头部
• -q 不显示传输层信息
• -v 显示网络层头部更多的信息，如 TTL、id 等
• -n 显示 IP 地址、数字端口代替 hostname 等
• -S TCP 信息以绝对序列号替代相对序列号
• -A 以 ASCII 方式显示报文内容，适用 HTTP 分析
• -x 以 16 进制方式显示报文内容，不显示数据链路层
• -xx 以 16 进制方式显示报文内容，显示数据链路层
• -X 同时以 16 进制及 ACII 方式显示报文内容，不显示数据链路层
• -XX 同时以 16 进制及 ACII 方式显示报文内容，显示数据链路层</p><h5 id=4ss>4.ss</h5><h6 id=5top>5.top</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>top - 18:36:42 up <span style=color:#ae81ff>3</span> days, 18:03, <span style=color:#ae81ff>1</span> user, load average: 3.40, 2.25, 2.08
</span></span><span style=display:flex><span>Tasks: <span style=color:#ae81ff>218</span> total, <span style=color:#ae81ff>4</span> running, <span style=color:#ae81ff>217</span> sleeping, <span style=color:#ae81ff>0</span> stopped, <span style=color:#ae81ff>0</span> zombie
</span></span><span style=display:flex><span>%Cpu: 41.6 us, 42.2 sy, 0.0 ni, 0.0 id, 0.0 wa, 0.0 hi, 0.0 si, 16.2 st
</span></span><span style=display:flex><span><span style=color:#75715e>#top - 18:36:42 up 3 days, 18:03, 1 user, load average: 3.40, 2.25, 2.08：这显示了当前时间、系统已经运行的天数和小时、当前登录的用户数，以及过去1分钟、5分钟和15分钟的平均负载</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Tasks: 218 total, 4 running, 217 sleeping, 0 stopped, 0 zombie：显示了系统中的任务状态。总共218个任务，其中4个正在运行，217个处于休眠状态，没有任务被停止或变成僵尸进程</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#%Cpu: 41.6 us, 42.2 sy, 0.0 ni, 0.0 id, 0.0 wa, 0.0 hi, 0.0 si, 16.2 st：</span>
</span></span><span style=display:flex><span><span style=color:#75715e># us表示用户空间使用的CPU时间</span>
</span></span><span style=display:flex><span><span style=color:#75715e># sy表示系统使用的时间    </span>
</span></span><span style=display:flex><span><span style=color:#75715e># ni (nice)：表示用户进程在 nice 模式下使用的 CPU 时间百分比</span>
</span></span><span style=display:flex><span><span style=color:#75715e># id (idle)：表示CPU处于空闲状态的时间百分比，没有执行任何任务 </span>
</span></span><span style=display:flex><span><span style=color:#75715e># hi (hardware interrupts)：表示由硬件中断引起的CPU时间百分比 </span>
</span></span><span style=display:flex><span><span style=color:#75715e># wa (wait)：表示CPU等待输入/输出完成的时间百分比。在这段时间里，CPU实际上是空闲的，它只是等待磁盘I/O或其他I/O操作完成 </span>
</span></span><span style=display:flex><span><span style=color:#75715e># si (software interrupts)：表示由软件中断引起的CPU时间百分比 </span>
</span></span><span style=display:flex><span><span style=color:#75715e># st CPU stealing</span>
</span></span></code></pre></div><h5 id=12-route>12 route</h5><p><img src=/network/route.png alt></p><p>这是 <code>route -n</code> 命令的输出，显示了 Linux 系统中的内核 IP 路由表。下面是对每行的逐行解释：</p><ol><li><p><code>0.0.0.0 192.168.8.1 0.0.0.0 UG 100 0 0 enp33s0f1</code></p><ul><li><code>Destination 0.0.0.0</code> 表示这是默认路由（所有未在表中明确列出的目的地的流量都会走这条路由）。</li><li><code>Gateway 192.168.8.1</code> 是默认网关，所有默认路由的流量都会通过这个网关。</li><li><code>Genmask 0.0.0.0</code> 表示这条路由适用于所有地址（因为它是默认路由）。</li><li><code>Flags UG</code> 表示路由是 Up（启用的）和 Gateway（通过网关）。</li><li><code>Metric 100</code> 是这条路由的度量值，它在多条路由可用时用于路由选择。</li><li><code>Iface enp33s0f1</code> 表示使用的网络接口是 enp33s0f1。</li></ul></li><li><p><code>10.244.0.0 10.244.0.0 255.255.255.0 UG 0 0 0 flannel.1</code></p><ul><li>这条路由是为 <code>10.244.0.0/24</code> 网络设置的，意味着所有发往这个子网的流量都会遵循这条规则。</li><li><code>Gateway 10.244.0.0</code> 表示通过这个IP作为网关。</li><li><code>Genmask 255.255.255.0</code> 定义了子网掩码。</li><li>使用 <code>flannel.1</code> 接口。</li></ul></li><li><p><code>10.244.1.0 0.0.0.0 255.255.255.0 U 0 0 0 cni0</code></p><ul><li>这是直接连接的路由，用于 <code>10.244.1.0/24</code> 子网。</li><li>没有指定网关（<code>0.0.0.0</code>），表明这个网络直接连接到 <code>cni0</code> 接口。</li></ul></li><li><p><code>10.244.2.0 10.244.2.0 255.255.255.0 UG 0 0 0 flannel.1</code></p><ul><li>类似第2条路由，但适用于 <code>10.244.2.0/24</code> 网络。</li></ul></li><li><p><code>10.244.3.0 10.244.3.0 255.255.255.0 UG 0 0 0 flannel.1</code></p><ul><li>类似第2条和第4条路由，但适用于 <code>10.244.3.0/24</code> 网络。</li></ul></li><li><p><code>172.17.0.0 0.0.0.0 255.255.0.0 U 0 0 0 docker0</code></p><ul><li>这条路由用于 Docker 的默认网络 <code>172.17.0.0/16</code>。</li><li>也是直接连接的路由，使用 <code>docker0</code> 接口。</li></ul></li><li><p><code>192.168.8.0 0.0.0.0 255.255.252.0 U 100 0 0 enp33s0f1</code></p><ul><li>适用于 <code>192.168.8.0/22</code> 的直接连接路由。</li><li>使用 <code>enp33s0f1</code> 接口。</li></ul></li></ol><h6 id=常见用法>常见用法</h6><ol><li><p><strong>查看路由表</strong>:</p><ul><li>不带任何参数运行 <code>route</code> 或 <code>route -n</code> 可以查看当前的路由表。<code>-n</code> 参数显示数值地址，避免了对主机名的查找，从而加快了命令的执行。</li></ul></li><li><p><strong>添加路由</strong>:</p><ul><li><code>route add</code> 用于添加新的路由。例如，<code>route add -net 192.168.0.0 netmask 255.255.255.0 gw 192.168.1.1</code> 会添加到达 <code>192.168.0.0/24</code> 网络的路由，通过网关 <code>192.168.1.1</code>。</li></ul></li><li><p><strong>删除路由</strong>:</p><ul><li><code>route del</code> 用于删除已有的路由。例如，<code>route del -net 192.168.0.0 netmask 255.255.255.0</code> 会删除到 <code>192.168.0.0/24</code> 网络的路由。</li></ul></li></ol><h6 id=参数及其作用>参数及其作用</h6><ol><li><p><strong><code>-n</code></strong>:</p><ul><li>显示数值地址，而不尝试解析主机名。</li></ul></li><li><p><strong><code>-e</code></strong>:</p><ul><li>显示更详细的路由信息。</li></ul></li><li><p><strong><code>add</code></strong>:</p><ul><li>添加新的路由。</li></ul></li><li><p><strong><code>del</code></strong>:</p><ul><li>删除现有的路由。</li></ul></li><li><p><strong><code>-net</code></strong>:</p><ul><li>指定路由的目的地是一个网络，而不是单个主机。</li></ul></li><li><p><strong><code>-host</code></strong>:</p><ul><li>指定路由的目的地是单个主机。</li></ul></li><li><p><strong><code>gw</code></strong>:</p><ul><li>指定用于该路由的网关。</li></ul></li><li><p><strong><code>netmask</code></strong>:</p><ul><li>指定路由的网络掩码。</li></ul></li><li><p><strong><code>dev</code></strong>:</p><ul><li>指定用于该路由的网络接口。</li></ul></li><li><p><strong><code>metric</code></strong>:</p><ul><li>指定路由的度量值，用于路由选择。</li></ul></li></ol><h6 id=示例>示例</h6><ul><li><p><strong>查看路由表</strong>:</p><pre tabindex=0><code>route -n
</code></pre></li><li><p><strong>添加路由</strong>:</p><pre tabindex=0><code>route add -net 192.168.0.0 netmask 255.255.255.0 gw 192.168.1.1
</code></pre></li><li><p><strong>删除路由</strong>:</p><pre tabindex=0><code>route del -net 192.168.0.0 netmask 255.255.255.0
</code></pre></li></ul><p>请注意，随着 <code>ip</code> 命令的普及（它是 <code>route</code> 命令的更现代和功能更全的替代品），在新的系统版本中使用 <code>route</code> 命令可能变得不常见。然而，在旧系统或在需要兼容性的情况下，<code>route</code> 仍然是一个非常有用的工具。</p><p>当然，我可以提供一些典型的添加和删除路由的 <code>route</code> 命令示例，以及对它们的解释。</p><h6 id=添加路由的例子>添加路由的例子</h6><ol><li><p><strong>添加默认网关</strong>:</p><ul><li>命令: <code>route add default gw 192.168.1.1</code></li><li>解释: 这条命令添加一个默认路由，即所有未在路由表中明确指定的目的地都将通过这条路由。这里，所有这样的流量将通过网关 <code>192.168.1.1</code> 路由。</li></ul></li><li><p><strong>添加特定网络的路由</strong>:</p><ul><li>命令: <code>route add -net 192.168.2.0/24 gw 192.168.1.1</code></li><li>解释: 这条命令添加一条到 <code>192.168.2.0/24</code> 网络的路由，通过网关 <code>192.168.1.1</code>。这意味着所有发往该特定子网的流量将通过指定的网关。</li></ul></li><li><p><strong>添加主机路由</strong>:</p><ul><li>命令: <code>route add -host 10.10.10.10 gw 192.168.1.1</code></li><li>解释: 这条命令为特定的主机 <code>10.10.10.10</code> 添加一条路由。所有发往这个特定IP地址的流量将通过网关 <code>192.168.1.1</code>。</li></ul></li></ol><h6 id=删除路由的例子>删除路由的例子</h6><ol><li><p><strong>删除默认网关</strong>:</p><ul><li>命令: <code>route del default</code></li><li>解释: 这条命令将删除默认路由。执行这个命令后，除非有其他指定路由，否则系统将无法访问未知子网。</li></ul></li><li><p><strong>删除特定网络的路由</strong>:</p><ul><li>命令: <code>route del -net 192.168.2.0/24</code></li><li>解释: 这条命令删除到 <code>192.168.2.0/24</code> 子网的路由。删除后，流量将不再通过先前配置的路径到达该网络。</li></ul></li><li><p><strong>删除主机路由</strong>:</p><ul><li>命令: <code>route del -host 10.10.10.10</code></li><li>解释: 这条命令删除到特定主机 <code>10.10.10.10</code> 的路由。这意味着系统将不再有一个专门的路由来处理发往该IP的流量。</li></ul></li></ol><h5 id=15netstat>15.netstat</h5><ul><li><p><code>-r</code> 列出所有路由规则</p></li><li><p><code>-a</code> （all）: 显示所有活动连接和监听端口。</p></li><li><p><code>-n</code> （numeric）: 显示地址和端口号以数字形式，而不是尝试解析为名字。</p></li><li><p><code>-p</code> （program）: 显示创建每个连接或监听端口的程序的PID和名称。</p></li></ul><p>如果在使用 <code>netstat</code> 命令时不包括 <code>-a</code> 参数，命令将不会显示所有的活动连接。默认情况下，<code>netstat</code> 会显示建立的 TCP 连接，但是<strong>不会显示处于监听状态的端口</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>[</span>root@tgq205 ~<span style=color:#f92672>]</span><span style=color:#75715e># netstat  | grep tcp</span>
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:46592            10.244.1.193:http       TIME_WAIT
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> localhost:54956         localhost:39514         ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> localhost:39514         localhost:54956         ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:52548            tgq204:sun-sr-https     ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:52546            tgq204:sun-sr-https     ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:44634            10.244.1.194:http       TIME_WAIT
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:ssh              192.168.11:nettgain-nms ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>48</span> tgq205:ssh              192.168.11.191:drmsmc   ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:57044            10.1.0.1:https          ESTABLISHED
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:10250            tgq206:57354            ESTABLISHED
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:10250            tgq204:50786            ESTABLISHED
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>root@tgq205 ~<span style=color:#f92672>]</span><span style=color:#75715e># netstat  -a | grep tcp</span>
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> localhost:39616         0.0.0.0:*               LISTEN
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 0.0.0.0:31111           0.0.0.0:*               LISTEN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> localhost:39514         0.0.0.0:*               LISTEN
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 0.0.0.0:31902           0.0.0.0:*               LISTEN
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 0.0.0.0:31070           0.0.0.0:*               LISTEN
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:46620            10.244.1.193:http       TIME_WAIT
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> localhost:54956         localhost:39514         ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> localhost:39514         localhost:54956         ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:52548            tgq204:sun-sr-https     ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:44662            10.244.1.194:http       TIME_WAIT
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:52546            tgq204:sun-sr-https     ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:ssh              192.168.11:nettgain-nms ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>48</span> tgq205:ssh              192.168.11.191:drmsmc   ESTABLISHED
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:57044            10.1.0.1:https          ESTABLISHED
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#f92672>[</span>::<span style=color:#f92672>]</span>:10250              <span style=color:#f92672>[</span>::<span style=color:#f92672>]</span>:*                  LISTEN
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#f92672>[</span>::<span style=color:#f92672>]</span>:10256              <span style=color:#f92672>[</span>::<span style=color:#f92672>]</span>:*                  LISTEN
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#f92672>[</span>::<span style=color:#f92672>]</span>:ssh                <span style=color:#f92672>[</span>::<span style=color:#f92672>]</span>:*                  LISTEN
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:10250            tgq206:57354            ESTABLISHED
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> tgq205:10250            tgq204:50786            ESTABLISHED
</span></span></code></pre></div><ul><li><code>-t</code>: 显示TCP连接。</li><li><code>-u</code>: 显示UDP连接。</li><li><code>-l</code>: 仅显示处于监听状态的套接字。</li><li><code>-s</code>: 显示每个协议的统计数据。</li><li><code>-r</code>: 显示路由表。</li><li><code>-i</code>: 显示网络接口列表。</li><li><code>-e</code>: 显示扩展信息，如错误统计。</li><li><code>-c</code>: 持续输出网络状态信息（每隔一秒刷新一次）。</li><li><code>-o</code>: 显示每个连接的定时器信息（如TCP连接的重试次数）。</li><li><code>-g</code>: 显示多播组成员资格信息。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>[</span>root@tgq205 ~<span style=color:#f92672>]</span><span style=color:#75715e># netstat -tapn</span>
</span></span><span style=display:flex><span>Active Internet connections <span style=color:#f92672>(</span>servers and established<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 127.0.0.1:39616         0.0.0.0:*               LISTEN      1693/containerd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 0.0.0.0:22              0.0.0.0:*               LISTEN      1671/sshd
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 127.0.0.1:25            0.0.0.0:*               LISTEN      2211/master
</span></span><span style=display:flex><span> 3245/kube-proxy
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 127.0.0.1:54956         127.0.0.1:39514         ESTABLISHED 1901/kubelet
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 127.0.0.1:39514         127.0.0.1:54956         ESTABLISHED 1901/kubelet
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 10.244.1.1:45044        10.244.1.194:80         TIME_WAIT   -
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 192.168.8.205:52548     192.168.8.204:6443      ESTABLISHED 3245/kube-proxy
</span></span><span style=display:flex><span>61689/sshd: root@pt
</span></span><span style=display:flex><span>tcp        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 192.168.8.205:57044     10.1.0.1:443            ESTABLISHED 6031/flanneld
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> :::22                   :::*                    LISTEN      1671/sshd
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 192.168.8.205:10250     192.168.8.206:57354     ESTABLISHED 1901/kubelet
</span></span><span style=display:flex><span>tcp6       <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> 192.168.8.205:10250     192.168.8.204:50786     ESTABLISHED 1901/kubelet
</span></span></code></pre></div><ol><li><strong>-t (TCP)</strong>: 这个选项告诉 <code>netstat</code> 只显示TCP连接。TCP（传输控制协议）是一种常用的网络协议，用于在互联网上建立可靠的连接。</li><li><strong>-a (all)</strong>: 显示所有活动的和非活动的套接字（socket）。默认情况下，<code>netstat</code> 只显示活动的套接字。</li><li><strong>-p (program)</strong>: 显示哪个进程正在使用哪个套接字。这对于确定哪个应用程序正在监听哪个端口或建立了哪些连接非常有用。</li><li><strong>-n (numeric)</strong>: 以数字形式显示地址和端口号，而不是尝试解析成名称。这可以加快显示速度，并有助于避免在解析名称时可能遇到的问题。</li></ol><p>当运行 <code>netstat -tapn</code> 时，您会得到类似这样的输出：</p><ul><li>本地地址（Local Address）和端口号，显示您的系统上哪些服务正在监听。</li><li>远程地址（Foreign Address）和端口号，显示与您的系统建立连接的外部系统。</li><li>连接状态（如 LISTEN, ESTABLISHED 等）。</li><li>使用该套接字的进程ID和名称。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>[</span>root@tgq205 ~<span style=color:#f92672>]</span><span style=color:#75715e># netstat  -i</span>
</span></span><span style=display:flex><span>Kernel Interface table
</span></span><span style=display:flex><span>Iface             MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
</span></span><span style=display:flex><span>cni0             <span style=color:#ae81ff>1450</span>    <span style=color:#ae81ff>20441</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>         <span style=color:#ae81ff>23155</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMRU
</span></span><span style=display:flex><span>docker0          <span style=color:#ae81ff>1500</span>        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>             <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMU
</span></span><span style=display:flex><span>em1              <span style=color:#ae81ff>1500</span>   <span style=color:#ae81ff>222399</span>      <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>17683</span> <span style=color:#ae81ff>0</span>         <span style=color:#ae81ff>42516</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMRU
</span></span><span style=display:flex><span>em2              <span style=color:#ae81ff>1500</span>        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>             <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMU
</span></span><span style=display:flex><span>em3              <span style=color:#ae81ff>1500</span>        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>             <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMU
</span></span><span style=display:flex><span>em4              <span style=color:#ae81ff>1500</span>        <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>             <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMU
</span></span></code></pre></div><p>您运行的 <code>netstat -i</code> 命令提供了有关系统上网络接口的信息。让我们解析您收到的输出：</p><ol><li><p><strong>Iface（接口）</strong>：此列显示网络接口的名称，例如 <code>em1</code>、<code>em2</code>、<code>docker0</code> 等。</p></li><li><p><strong>MTU（最大传输单元）</strong>：这表示网络协议能够传输的最大数据包大小。小于此限制的数据包将完整传输，而大于此限制的数据包将被分段。</p></li><li><p><strong>RX-OK（接收正常）</strong>：接口上无错误接收到的数据包数量。</p></li><li><p><strong>RX-ERR（接收错误）</strong>：接收到的带有错误的数据包数量。这包括CRC（循环冗余校验）错误、帧对齐错误等。</p></li><li><p><strong>RX-DRP（接收丢包）</strong>：被丢弃的接收数据包数量。这可能由于多种原因，如缓冲区溢出、数据包损坏或其他网络问题。</p></li><li><p><strong>RX-OVR（接收溢出）</strong>：表示接收硬件由于缺乏缓冲空间而无法处理接收数据的次数。</p></li><li><p><strong>TX-OK（发送正常）</strong>：接口上无错误传输的数据包数量。</p></li><li><p><strong>TX-ERR（发送错误）</strong>：传输的带有错误的数据包数量。</p></li><li><p><strong>TX-DRP（发送丢包）</strong>：被丢弃的传输数据包数量。</p></li><li><p><strong>TX-OVR（发送溢出）</strong>：显示发送硬件由于缺乏系统资源而无法发送数据的次数。</p></li><li><p><strong>Flg（标志）</strong>：此列显示接口的状态标志。您输出中的标志如下：</p><ul><li><strong>B</strong>：广播 - 该接口支持广播。</li><li><strong>M</strong>：组播 - 该接口支持组播。</li><li><strong>R</strong>：运行中 - 该接口正在运行。</li><li><strong>U</strong>：启动 - 该接口已启动。</li></ul></li></ol><p>例如，在您的输出中，<code>em1</code> 接口成功接收了 222,399 个数据包，没有错误，但丢弃了 17,683 个数据包（RX-DRP）。它还成功发送了 42,516 个数据包。状态标志表明它支持广播和组播，并且正在运行且已启动。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>netstat -i  <span style=color:#75715e>#显示主机每个网络接口的配置和状态，还有相关的流量计数。 == ifconfig -a</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#输出</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>root@vm-24-2-centos ~<span style=color:#f92672>]</span><span style=color:#75715e># netstat -i</span>
</span></span><span style=display:flex><span>Kernel Interface table
</span></span><span style=display:flex><span>Iface             MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
</span></span><span style=display:flex><span>docker0          <span style=color:#ae81ff>1500</span>   <span style=color:#ae81ff>128146</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>        <span style=color:#ae81ff>149557</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMU
</span></span><span style=display:flex><span>eth0             <span style=color:#ae81ff>1500</span> <span style=color:#ae81ff>95990375</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>90107679</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> BMRU
</span></span><span style=display:flex><span>lo              <span style=color:#ae81ff>65536</span>  <span style=color:#ae81ff>3660818</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>3660818</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> LRU
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>MTU: Maximum Transmission Unit 
</span></span><span style=display:flex><span>RX-OK: 接收到的有效数据包的数量
</span></span><span style=display:flex><span>RX-ERR: 接收时出现错误的数据包数量
</span></span><span style=display:flex><span>RX-DRP: 被丢弃的接收数据包数量。这些数据包由于某种原因（例如缓冲区溢出）而没有被处理。
</span></span><span style=display:flex><span>RX-OVR: 接收溢出的数据包数量。这些是由于接口硬件错误导致的数据包错误。
</span></span><span style=display:flex><span>TX-OK: 成功发送的数据包数量。
</span></span><span style=display:flex><span>TX-ER: 发送时出现错误的数据包数量。
</span></span><span style=display:flex><span>TX-DRP: 被丢弃的发送数据包数量。
</span></span><span style=display:flex><span>TX-OVR: 发送溢出的数据包数量。
</span></span><span style=display:flex><span>Flg: 这是网络接口的标志，代表该接口的当前状态 
</span></span><span style=display:flex><span>B: 广播，表示该接口支持发送/接收广播包。
</span></span><span style=display:flex><span>M: 多播，表示该接口支持发送/接收多播数据包。
</span></span><span style=display:flex><span>R: 运行，表示该接口正在运行并且已激活。
</span></span><span style=display:flex><span>U: Up，表示接口是活动的，或者说是“启动”的。
</span></span><span style=display:flex><span>L: Loopback，表示这是一个循环回接口。
</span></span></code></pre></div><h5 id=16rpm>16.rpm</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#常用参数</span>
</span></span><span style=display:flex><span>-ivh <span style=color:#75715e>#安装显示安装进度 --install --verbose --hash</span>
</span></span><span style=display:flex><span>-ivh --relocate /<span style=color:#f92672>=</span>/opt/test test.rpm <span style=color:#75715e>#指定安装目录 </span>
</span></span><span style=display:flex><span>-Uvh <span style=color:#75715e>#升级软件包 --Update</span>
</span></span><span style=display:flex><span>-qa | grep httpd  <span style=color:#75715e>#搜索软件包 --all</span>
</span></span><span style=display:flex><span>-ql httpd  <span style=color:#75715e>#搜索所有文件安装目录 --list</span>
</span></span><span style=display:flex><span>-q git <span style=color:#75715e>#查找git是否安装</span>
</span></span><span style=display:flex><span>-e <span style=color:#75715e>#删除一个软件包 --erase</span>
</span></span><span style=display:flex><span>-i --install 
</span></span><span style=display:flex><span>-v --verbose <span style=color:#75715e>#provide more detailed info</span>
</span></span><span style=display:flex><span>-h --hash 
</span></span><span style=display:flex><span>-e --erase
</span></span><span style=display:flex><span>--test <span style=color:#75715e>#安装测试实际不安装</span>
</span></span><span style=display:flex><span>--nodeps <span style=color:#75715e>#忽略软件依赖关系，强行安装</span>
</span></span><span style=display:flex><span>--force <span style=color:#75715e>#忽略软件包及文件的冲突</span>
</span></span></code></pre></div><h6></h6><h6 id=20kill>20kill</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#kill默认发送TERM信号</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#格式</span>
</span></span><span style=display:flex><span>kill <span style=color:#f92672>[</span>-signal<span style=color:#f92672>]</span> pid
</span></span><span style=display:flex><span>signal表示要发送信号的编号或符号名称 pid为-1会把这个信号广播给除了init以外的所有进程
</span></span><span style=display:flex><span><span style=color:#75715e>#各种signal作用</span>
</span></span><span style=display:flex><span>-HUP -1
</span></span><span style=display:flex><span>作用: 通常用于重新加载配置文件或重新启动进程
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>-INT -2
</span></span><span style=display:flex><span>中断进程 类似于Ctrl-C
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>-QUIT -3
</span></span><span style=display:flex><span>用于请求进程退出 类似于Crtl+<span style=color:#ae81ff>\，</span>可以在捕获QUIT信号时执行一些特定的清理操作，然后终止进程
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>-KILL -9
</span></span><span style=display:flex><span>强制终止进程 不能被忽略 阻塞 捕获
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>-BUS -7
</span></span><span style=display:flex><span>表示硬件错误 通常是无效的内存访问或者数据对齐错误
</span></span></code></pre></div><h6 id=25cut>25cut</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cut -d&lt;分隔符&gt; -f&lt;字段号&gt; &lt;文件名&gt;
</span></span></code></pre></div><h6 id=26vmstat>26vmstat</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
</span></span><span style=display:flex><span> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span>  <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>308372</span> <span style=color:#ae81ff>361572</span> <span style=color:#ae81ff>28510556</span>    <span style=color:#ae81ff>0</span>    <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>7</span>    <span style=color:#ae81ff>0</span>    <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>  <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>99</span>  <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><p><strong>procs</strong></p><ul><li><code>r</code>: 运行和等待CPU时间片的进程数</li><li><code>b</code>: 在等待I/O操作的进程数</li></ul><p><strong>memory</strong></p><ul><li><code>swpd</code>: 使用的虚拟内存量（单位KB</li><li><code>free</code>: 空闲的物理内存量（单位KB）</li><li><code>buff</code>: 用作缓冲的物理内存量（单位KB）</li><li><code>cache</code>: 用作缓存的物理内存量（单位KB)</li></ul><p><strong>swap</strong></p><ul><li><code>si</code>: 每秒从磁盘交换进来的内存量（单位KB）</li><li><code>so</code>: 每秒交换到磁盘的内存量（单位KB）</li></ul><p><strong>io</strong></p><ul><li><code>bi</code>: 从块设备（如硬盘）读取的块数</li><li><code>bo</code>: 写入块设备的块数</li></ul><p><strong>system</strong></p><ul><li><code>in</code>: 每秒的中断次数，包括时钟中断</li><li><code>cs</code>: 每秒的上下文切换次数</li></ul><p><strong>cpu</strong></p><ul><li><code>us</code>: 用户时间。CPU花费在用户模式代码（例如应用程序）上的时间百分比</li><li><code>sy</code>: 系统时间。CPU花费在内核模式代码上的时间百分比</li><li><code>id</code>: 空闲时间。CPU空闲并且没有未挂起的磁盘I/O的时间百分比</li><li><code>wa</code>: 等待I/O的时间百分比</li><li><code>st</code>: 从虚拟机偷取的时间百分比（仅当运行在虚拟机上时适用）</li></ul><h4 id=others>others</h4><h5 id=权限相关>权限相关</h5><h6 id=chown-设置文件所有者和文件关联组>chown (设置文件所有者和文件关联组)</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#将当前目录所有文件与子目录的拥有者设置成user，组设置成group</span>
</span></span><span style=display:flex><span>chown -R user:group .
</span></span><span style=display:flex><span>chown :512 /home/test
</span></span></code></pre></div><h6 id=chmod-控制用户对文件的权限的命令>chmod (控制用户对文件的权限的命令)</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>- or d //File Type
</span></span><span style=display:flex><span>rwx<span style=color:#f92672>(</span>owner:u<span style=color:#f92672>)</span> rwx<span style=color:#f92672>(</span>group:g<span style=color:#f92672>)</span> rwx<span style=color:#f92672>(</span>other user:o<span style=color:#f92672>)</span> //read write execute
</span></span><span style=display:flex><span><span style=color:#ae81ff>421</span> //RWX
</span></span><span style=display:flex><span>754: RWX R-X R--
</span></span><span style=display:flex><span>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体<span style=color:#f92672>(</span>group<span style=color:#f92672>)</span>者，o 表示其他以外的人，a 表示这三者皆是
</span></span><span style=display:flex><span>+ 表示增加权限、- 表示取消权限、<span style=color:#f92672>=</span> 表示唯一设定权限 
</span></span></code></pre></div><table><thead><tr><th style=text-align:center>number</th><th style=text-align:center>rwx</th><th style=text-align:center>binary</th></tr></thead><tbody><tr><td style=text-align:center>7</td><td style=text-align:center>rwx</td><td style=text-align:center>111</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center>rw-</td><td style=text-align:center>110</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center>r-x</td><td style=text-align:center>101</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>r&ndash;</td><td style=text-align:center>100</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>-wx</td><td style=text-align:center>011</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>-w-</td><td style=text-align:center>010</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>&ndash;x</td><td style=text-align:center>001</td></tr><tr><td style=text-align:center>0</td><td style=text-align:center>&mdash;</td><td style=text-align:center>000</td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>demo:
</span></span><span style=display:flex><span><span style=color:#75715e>#设置所有人皆可读取</span>
</span></span><span style=display:flex><span>chmod ugo+r file
</span></span><span style=display:flex><span><span style=color:#75715e>#设置所有人可写</span>
</span></span><span style=display:flex><span>chmod a+w file
</span></span><span style=display:flex><span><span style=color:#75715e>#拥有者和组用户可写，其他人不可写</span>
</span></span><span style=display:flex><span>chmod ug+w,o-w file
</span></span><span style=display:flex><span><span style=color:#75715e>#当前目录和子目录设置所有人可读</span>
</span></span><span style=display:flex><span>chmod -R a+r *
</span></span><span style=display:flex><span><span style=color:#75715e>#读写执行权限</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>777</span> file
</span></span></code></pre></div><table><thead><tr><th>chmod a-r file</th><th>删除所有用户执行权限</th></tr></thead><tbody><tr><td>chmod +rwx file</td><td>给file的用户增加读写执行权限</td></tr><tr><td>chmod u=rw,go= file</td><td>给file用户设置了读写，其他和组其他用户设置0权限</td></tr><tr><td>chmod 644 file</td><td>对file用户和组用户设置读写，为其他用户设置读权限</td></tr></tbody></table><h6 id=chgrpchange-group>chgrp(change group)</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>chgrp -R bin dir //改变dir目录以及子目录和文件组为bin
</span></span><span style=display:flex><span>chgrp --reference<span style=color:#f92672>=</span>file1 file2 //改变file2组和file1一样
</span></span></code></pre></div><h2 id=linux系统管理技术手册>linux系统管理技术手册</h2><h3 id=2脚本与shell>2.脚本与shell</h3><p>Shell 常用脚本30例: <a href=https://zhuanlan.zhihu.com/p/526263882>https://zhuanlan.zhihu.com/p/526263882</a></p><h4 id=01概念>01.概念</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#管道和重定向</span>
</span></span><span style=display:flex><span>&lt; 是和STDIN联系起来
</span></span><span style=display:flex><span>&gt; &gt;&gt; 重定向到STDOUT &gt;替换文件的现有内容 &gt;&gt;追加
</span></span><span style=display:flex><span>| <span style=color:#75715e>#代表管道</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#符号</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&amp;&amp;</span> <span style=color:#75715e>#前一条命令退出码为0时，才会执行下一条命令</span>
</span></span><span style=display:flex><span><span style=color:#f92672>||</span> <span style=color:#75715e>#前一条命令不成功(非0退出码)，才能执行后面的命令</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#变量</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;saved </span><span style=color:#e6db74>${</span>rev<span style=color:#e6db74>}</span><span style=color:#e6db74>th version&#34;</span> <span style=color:#75715e>#带{} 可以区别出变量的边界</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#用来在用户登陆时设置环境变量的那些命令，都应该放在 ~/.profile或者~/.bash_profile两个文件中</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#单引号和双引号区别在于变量可以进行替换</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#左引号(撇号)和双引号类似</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;this are `wc -l&lt; /etc/passwd`&#34;</span> <span style=color:#75715e>#输出： this are 21</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#cut</span>
</span></span><span style=display:flex><span>-d 限定符
</span></span><span style=display:flex><span>-f 输出包括哪些域
</span></span><span style=display:flex><span><span style=color:#75715e>#sort</span>
</span></span><span style=display:flex><span>-b 忽略开头空白
</span></span><span style=display:flex><span>-f 排序不区分大小写
</span></span><span style=display:flex><span>-k 指定构造排序关键字的列
</span></span><span style=display:flex><span>-n 按数值排序
</span></span><span style=display:flex><span>-r 逆序
</span></span><span style=display:flex><span>-t 设定域分隔符
</span></span><span style=display:flex><span>-u 去重
</span></span><span style=display:flex><span><span style=color:#75715e>#uniq</span>
</span></span><span style=display:flex><span>-c：在输出中显示每行的重复次数。
</span></span><span style=display:flex><span>-d：只显示重复的行。
</span></span><span style=display:flex><span>-u：只显示不重复的行。
</span></span><span style=display:flex><span>-f N：忽略前 N 个字段（以空格或制表符分隔）的内容。
</span></span><span style=display:flex><span>-s N：跳过前 N 个字符后开始比较。
</span></span><span style=display:flex><span>-i：忽略大小写进行比较。
</span></span><span style=display:flex><span><span style=color:#75715e>#tee</span>
</span></span><span style=display:flex><span>find /tmp/ -name test.txt | tee core <span style=color:#75715e>#输出同时还保存到文件，tee相当与水管的&#39;三通&#39;</span>
</span></span></code></pre></div><h4 id=02bash>02.bash</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>read <span style=color:#75715e>#命令行读入 </span>
</span></span><span style=display:flex><span>read user_name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo vs printf <span style=color:#75715e># printf可以使用制表符、换行等</span>
</span></span><span style=display:flex><span>printf <span style=color:#e6db74>&#34;\taa\n&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>命令行参数
</span></span><span style=display:flex><span>$1代表第一个参数 $0代表脚本本身 $#表示参数的个数 $*保存了所有参数 $#和$*都不包括$0 $?表示上次执行的命令退出的状态
</span></span></code></pre></div><h6 id=变量作用域>变量作用域</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#变量作用域</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> localizer <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;==&gt; In function localizer a start as &#39;</span>$a<span style=color:#e6db74>&#39;&#34;</span>
</span></span><span style=display:flex><span>    local a
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;==&gt; after local decl , a is &#39;</span>$a<span style=color:#e6db74>&#39;&#34;</span>
</span></span><span style=display:flex><span>    a<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;localizer version&#34;</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;==&gt; leaving localizer a is &#39;</span>$a<span style=color:#e6db74>&#39;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;test&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;before a is &#39;</span>$a<span style=color:#e6db74>&#39;&#34;</span>
</span></span><span style=display:flex><span>localizer
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;after a is &#39;</span>$a<span style=color:#e6db74>&#39;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#####output########</span>
</span></span><span style=display:flex><span>before a is <span style=color:#e6db74>&#39;test&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>==</span>&gt; In <span style=color:#66d9ef>function</span> localizer a start as <span style=color:#e6db74>&#39;test&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>==</span>&gt; after local decl , a is <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>==</span>&gt; leaving localizer a is <span style=color:#e6db74>&#39;localizer version&#39;</span>
</span></span><span style=display:flex><span>after a is <span style=color:#e6db74>&#39;test&#39;</span>
</span></span></code></pre></div><h6 id=控制流程>控制流程</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#控制流程</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $base -eq <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[</span> $dm -eq <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    install
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> <span style=color:#f92672>[</span> $base -ne <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[</span> $dm -eq <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    install2
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> <span style=color:#f92672>[</span> $base -eq <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[</span> $dm -ne <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    install4
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span> 
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#39;haha&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h6 id=比较运算符>比较运算符</h6><table><thead><tr><th style=text-align:center>字符串</th><th style=text-align:center>数值</th></tr></thead><tbody><tr><td style=text-align:center>x = y</td><td style=text-align:center>x -eq y</td></tr><tr><td style=text-align:center>x != y</td><td style=text-align:center>x -ne y</td></tr><tr><td style=text-align:center>x &lt; y</td><td style=text-align:center>x -lt y</td></tr><tr><td style=text-align:center>x &lt;= y</td><td style=text-align:center>x -le y</td></tr><tr><td style=text-align:center>x > y</td><td style=text-align:center>x -gt y</td></tr><tr><td style=text-align:center>x >= y</td><td style=text-align:center>x -ge y</td></tr><tr><td style=text-align:center>-n x</td><td style=text-align:center>表示x不为空</td></tr><tr><td style=text-align:center>-z x</td><td style=text-align:center>x 为空</td></tr></tbody></table><h6 id=测试文件和比较文件的运算符>测试文件和比较文件的运算符</h6><table><thead><tr><th style=text-align:center>运算符</th><th style=text-align:center>为真，如果</th></tr></thead><tbody><tr><td style=text-align:center>-d file</td><td style=text-align:center>file存在并且是目录</td></tr><tr><td style=text-align:center>-e file</td><td style=text-align:center>file存在</td></tr><tr><td style=text-align:center>-f file</td><td style=text-align:center>file存在并且是普通文件</td></tr><tr><td style=text-align:center>-r file</td><td style=text-align:center>用户有file读权限</td></tr><tr><td style=text-align:center>-s file</td><td style=text-align:center>file存在并且不为空</td></tr><tr><td style=text-align:center>-w file</td><td style=text-align:center>用户有file写权限</td></tr></tbody></table><h6 id=case>case</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>read -p <span style=color:#e6db74>&#34;input: &#34;</span> num
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> $num in
</span></span><span style=display:flex><span>    1<span style=color:#f92672>)</span> echo <span style=color:#e6db74>&#34;one&#34;</span>;;
</span></span><span style=display:flex><span>    *<span style=color:#f92672>)</span> echo <span style=color:#e6db74>&#34;oter&#34;</span>;;
</span></span><span style=display:flex><span><span style=color:#66d9ef>esac</span>
</span></span></code></pre></div><h6 id=数值运算>数值运算</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span><span style=color:#ae81ff>2</span><span style=color:#66d9ef>))</span>
</span></span><span style=display:flex><span>c<span style=color:#f92672>=</span>$a+$b 
</span></span><span style=display:flex><span>d<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span>$a<span style=color:#f92672>+</span>$b<span style=color:#66d9ef>))</span>
</span></span><span style=display:flex><span>echo $c 
</span></span><span style=display:flex><span>echo $d 
</span></span><span style=display:flex><span><span style=color:#75715e>##output###</span>
</span></span><span style=display:flex><span>1+2
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span>
</span></span></code></pre></div><h6 id=数组>数组</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>example<span style=color:#f92672>=(</span>aa <span style=color:#e6db74>&#34;bb cc&#34;</span> dd<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${</span>example[0]<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${#</span>example[*]<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>example<span style=color:#f92672>[</span>3<span style=color:#f92672>]=</span><span style=color:#e6db74>&#39;ee&#39;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>${</span>example[*]<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>###output###</span>
</span></span><span style=display:flex><span>aa
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>aa bb cc dd ee
</span></span></code></pre></div><h6 id=regular-expression>regular expression</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>正则表达式一种用来匹配字符串模式的工具，在文本处理、搜索、替换等场景十分有用
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#基本字符</span>
</span></span><span style=display:flex><span>普通字符 <span style=color:#e6db74>`</span>apple<span style=color:#e6db74>`</span> <span style=color:#f92672>==</span>&gt; <span style=color:#e6db74>&#34;apple&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>.<span style=color:#e6db74>`</span>  匹配任意单个字符，除了换行符
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#ae81ff>\`</span>  用于转义特殊字符，使其失去特殊含义
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#字符类</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>[</span>abc<span style=color:#f92672>]</span><span style=color:#e6db74>`</span> 匹配字符a、b或者c中任意一个
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>[</span>0-9<span style=color:#f92672>]</span><span style=color:#e6db74>`</span> 匹配任意一个数字
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>[</span>^a<span style=color:#f92672>]</span><span style=color:#e6db74>`</span>  匹配除了字符a之外的任意字符
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#重复次数</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>*<span style=color:#e6db74>`</span>      匹配前面的模式0次或者多次
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>+<span style=color:#e6db74>`</span>      1次或者多次
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>?<span style=color:#e6db74>`</span>      0次或者1次
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>{</span>n<span style=color:#f92672>}</span><span style=color:#e6db74>`</span>    恰好n次
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>{</span>n,<span style=color:#f92672>}</span><span style=color:#e6db74>`</span>   至少n次
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>{</span>n,m<span style=color:#f92672>}</span><span style=color:#e6db74>`</span>  至少n次，但不超过m次
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#边界匹配</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>^<span style=color:#e6db74>`</span>    匹配字符串开头
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>$<span style=color:#e6db74>`</span>    结尾
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#ae81ff>\b</span><span style=color:#e6db74>`</span>   匹配单词的边界
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#特殊字符</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>|<span style=color:#e6db74>`</span>   分隔多个模式，表示“或”的关系
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>()</span><span style=color:#e6db74>`</span>  用于分组表达式，可以对多个元素进行整体操作
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#习题</span>
</span></span><span style=display:flex><span>匹配所有的邮箱地址
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>a-zA-Z0-9<span style=color:#f92672>]</span>+@<span style=color:#f92672>[</span>a-zA-Z0-9<span style=color:#f92672>]</span>+<span style=color:#ae81ff>\.</span><span style=color:#f92672>[</span>a-zA-Z<span style=color:#f92672>]</span>+
</span></span><span style=display:flex><span>匹配所有的手机号码（假设手机号为11位数字，可以考虑不同国家的格式）
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#ae81ff>\b\d</span><span style=color:#f92672>{</span>11<span style=color:#f92672>}</span><span style=color:#ae81ff>\b</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>匹配一个字符串，要求它只能包含字母和数字，且长度为6到12位
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>^<span style=color:#f92672>[</span>0-9a-zA-Z<span style=color:#f92672>]{</span>6,12<span style=color:#f92672>}</span>$<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>提取一个 HTML 文件中的所有链接（&lt;a&gt; 标签的 href 属性值）
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>将一个文本中的所有日期（例如：2023-08-09）格式转换为美国日期格式（08/09/2023）
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>(</span><span style=color:#ae81ff>\d</span><span style=color:#f92672>{</span>4<span style=color:#f92672>})</span>-<span style=color:#f92672>(</span><span style=color:#ae81ff>\d</span><span style=color:#f92672>{</span>2<span style=color:#f92672>})</span>-<span style=color:#f92672>(</span><span style=color:#ae81ff>\d</span><span style=color:#f92672>{</span>2<span style=color:#f92672>})</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>匹配重复出现的单词（例如：apple apple）
</span></span><span style=display:flex><span><span style=color:#ae81ff>\b</span><span style=color:#f92672>(</span><span style=color:#ae81ff>\w</span>+<span style=color:#f92672>)</span><span style=color:#ae81ff>\s</span>+<span style=color:#ae81ff>\1\b</span>   <span style=color:#ae81ff>\w</span>+ 匹配一个或多个字母、数字或下划线字符（单词字符）  <span style=color:#ae81ff>\s</span>+：这部分匹配一个或多个空白字符（空格、制表符、换行等） <span style=color:#ae81ff>\1</span> 这是一个反向引用，引用了前面括号中捕获的内容。在这里，它引用的是第一个捕获组，也就是前面的 <span style=color:#f92672>(</span><span style=color:#ae81ff>\w</span>+<span style=color:#f92672>)</span> 匹配到的单词
</span></span><span style=display:flex><span>从一个代码文件中提取所有的函数名（以 <span style=color:#66d9ef>function</span> 关键字开头）
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span><span style=color:#ae81ff>\s</span>+<span style=color:#f92672>(</span><span style=color:#ae81ff>\w</span>+<span style=color:#f92672>)</span><span style=color:#ae81ff>\s</span>*<span style=color:#ae81ff>\(</span>
</span></span><span style=display:flex><span>匹配一个句子的结尾标点符号（句号、问号、感叹号）
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span><span style=color:#f92672>[</span>.?!<span style=color:#f92672>]</span>$<span style=color:#e6db74>`</span>
</span></span></code></pre></div><table><thead><tr><th style=text-align:center>符号</th><th style=text-align:center>匹配或者作用</th></tr></thead><tbody><tr><td style=text-align:center>.</td><td style=text-align:center>任何字符</td></tr><tr><td style=text-align:center>$</td><td style=text-align:center>匹配一行的结尾</td></tr><tr><td style=text-align:center>^</td><td style=text-align:center>开头</td></tr><tr><td style=text-align:center>\w</td><td style=text-align:center>匹配任何“单词”字符（[A-Za-z0-9_]等价）</td></tr><tr><td style=text-align:center>\s</td><td style=text-align:center>任何空白字符([\f\t\n\r]等价)</td></tr><tr><td style=text-align:center>\d</td><td style=text-align:center>任何数字([0-9]等价)</td></tr><tr><td style=text-align:center>|</td><td style=text-align:center>匹配该符号左边或者右边元素的任意一个</td></tr><tr><td style=text-align:center>？</td><td style=text-align:center>匹配前面的元素0个或者1个</td></tr><tr><td style=text-align:center>*</td><td style=text-align:center>0个或者多个</td></tr><tr><td style=text-align:center>+</td><td style=text-align:center>1个或者多个</td></tr></tbody></table><h3 id=5进程控制>5.进程控制</h3><h6 id=进程的内核保存数据>进程的内核保存数据</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#进程的地址空间映射</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#进程的当前状态 (睡眠、停止、可运行)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#进程执行的优先级</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#进程已用资源的信息</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#进程已打开的文件和网络端口的信息</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#进程的信号掩码(一个记录，确定要封锁哪些信号)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#进程的属主</span>
</span></span></code></pre></div><p>PID和PPID</p><pre tabindex=0><code>PID 进程ID
PPID 父进程PID
</code></pre><h6 id=uid和euid>UID和EUID</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>UID 是创建者的用户标识号，复制了父进程的UID号。通常，只允许创建者<span style=color:#f92672>(</span>属主<span style=color:#f92672>)</span>和超级用户对进程进行操作
</span></span><span style=display:flex><span>EUID <span style=color:#f92672>(</span>effective UID<span style=color:#f92672>)</span> 用来确定进程在任何给定的时刻对哪些资源和文件具有访问权限。UID和EUID一样的，例外情况是setuid程序
</span></span></code></pre></div><h6 id=进程状态>进程状态</h6><p><img src=/50use/processstatus.png alt></p><table><thead><tr><th style=text-align:center>status</th><th style=text-align:center>meaning</th></tr></thead><tbody><tr><td style=text-align:center>New</td><td style=text-align:center>when process has just been created(initial state)</td></tr><tr><td style=text-align:center>Ready</td><td style=text-align:center>the process is waiting to be assigned the processor by the short term scheduler</td></tr><tr><td style=text-align:center>Ready Suspended</td><td style=text-align:center>The processes in ready suspended state are in secondary memory.</td></tr><tr><td style=text-align:center>Running</td><td style=text-align:center>The process is said to be in running state when the process instructions are being executed by the processor.</td></tr><tr><td style=text-align:center>Blocked</td><td style=text-align:center>The process is in blocked state if it is waiting for some event to occur. This event may be I/O as the I/O events are executed in the main memory and don&rsquo;t require the processor. After the event is complete, the process again goes to ready state.</td></tr><tr><td style=text-align:center>Blocked Suspended</td><td style=text-align:center>This is similar to ready suspended.</td></tr><tr><td style=text-align:center>Terminated</td><td style=text-align:center>The process is terminated once it finishes its execution. In the terminated state, the process is removed from main memory and its process control block is also deleted.</td></tr></tbody></table><h3 id=6文件系统>6.文件系统</h3><h6 id=mount>mount</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount filesystem mountpoint 
</span></span><span style=display:flex><span>fuser -c <span style=color:#f92672>[</span>挂载点<span style=color:#f92672>]</span> <span style=color:#75715e>#fuser -c mountpoint prints the PID of every process that’s using a</span>
</span></span><span style=display:flex><span>file or directory on that filesystem
</span></span><span style=display:flex><span>ps up <span style=color:#e6db74>&#34;87787 11201&#34;</span>  <span style=color:#75715e>#the quotation marks force the shell to pass the list of PIDs to ps as a single argument.</span>
</span></span></code></pre></div><h6 id=目录信息>目录信息</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/lib or /lib64 <span style=color:#75715e># shared library file and a few other oddments,such as c preprocessor</span>
</span></span><span style=display:flex><span>/usr/lib       <span style=color:#75715e>#others have moved these items into /usr/lib</span>
</span></span><span style=display:flex><span>/usr           <span style=color:#75715e>#where most standard but not system critical programs, along with other booty such as on-line manuals and most librarys </span>
</span></span><span style=display:flex><span>/var           <span style=color:#75715e># houses spools dir, log file, acounting info, others</span>
</span></span></code></pre></div><h6 id=file-types>file types</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#ae81ff>1</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>普通文件 (Regular files)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 这是最常见的文件类型<span style=color:#960050;background-color:#1e0010>，</span>通常包含文本<span style=color:#960050;background-color:#1e0010>、</span>程序或数据<span style=color:#960050;background-color:#1e0010>。</span>例如<span style=color:#960050;background-color:#1e0010>：</span>文本文件<span style=color:#960050;background-color:#1e0010>、</span>图像文件或二进制数据文件等<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span><span style=color:#e6db74>`/etc/passwd`</span> (存储用户账户信息的文本文件)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>目录 (Directories)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 这是一种特殊的文件<span style=color:#960050;background-color:#1e0010>，</span>它包含了其他文件和目录的引用<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span><span style=color:#e6db74>`/home/`</span> (用户的家目录)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>字符设备文件 (Character device files)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 它代表设备<span style=color:#960050;background-color:#1e0010>，</span>并且数据是字符流形式的<span style=color:#960050;background-color:#1e0010>。</span>键盘和鼠标就是字符设备的例子<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span><span style=color:#e6db74>`/dev/tty1`</span> (代表第一个终端)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>4</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>块设备文件 (Block device files)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 与字符设备文件类似<span style=color:#960050;background-color:#1e0010>，</span>但它们通常与设备进行块数据交换<span style=color:#960050;background-color:#1e0010>，</span>如硬盘<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span><span style=color:#e6db74>`/dev/sda1`</span> (代表第一块硬盘的第一个分区)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>5</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>本地域套接字 (Local domain sockets)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 用于进程间通信的特殊文件类型<span style=color:#960050;background-color:#1e0010>。</span>两个在同一台机器上的进程可以使用它进行数据交换<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span>某些数据库服务使用本地套接字与其客户端进行通信<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>6</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>命名管道 (Named pipes <span style=color:#f92672>/</span> FIFOs)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 这是一种特殊的文件<span style=color:#960050;background-color:#1e0010>，</span>允许两个进程进行通信<span style=color:#960050;background-color:#1e0010>。</span>一个进程向管道写数据<span style=color:#960050;background-color:#1e0010>，</span>而另一个进程从管道读数据<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span>你可以创建一个名为<span style=color:#e6db74>`my_pipe`</span>的FIFO<span style=color:#960050;background-color:#1e0010>，</span>并用它在两个程序之间传输数据<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>7</span><span style=color:#f92672>.</span> <span style=color:#f92672>**</span>符号链接 (Symbolic links)<span style=color:#f92672>**</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 这是一个特殊的文件<span style=color:#960050;background-color:#1e0010>，</span>它实际上是指向另一个文件的指针<span style=color:#960050;background-color:#1e0010>。</span>你可以将其视为快捷方式或别名<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>-</span> 例如<span style=color:#960050;background-color:#1e0010>：</span>如果你有一个文件<span style=color:#e6db74>`/home/user/original.txt`</span>并创建了一个符号链接<span style=color:#e6db74>`/home/user/link_to_original.txt`</span><span style=color:#960050;background-color:#1e0010>，</span>那么这个链接就会指向原始文件<span style=color:#960050;background-color:#1e0010>。</span>
</span></span></code></pre></div><table><thead><tr><th style=text-align:center>File type</th><th style=text-align:center>Symbol</th><th style=text-align:center>Created by</th><th style=text-align:center>Removed by</th></tr></thead><tbody><tr><td style=text-align:center>Regular file</td><td style=text-align:center>-</td><td style=text-align:center>editors,cp,etc</td><td style=text-align:center>rm</td></tr><tr><td style=text-align:center>Directory</td><td style=text-align:center>d</td><td style=text-align:center>mkdir</td><td style=text-align:center>rmdir, rm -r</td></tr><tr><td style=text-align:center>Character device file</td><td style=text-align:center>c</td><td style=text-align:center>mknod</td><td style=text-align:center>rm</td></tr><tr><td style=text-align:center>Block device file</td><td style=text-align:center>b</td><td style=text-align:center>mknod</td><td style=text-align:center>rm</td></tr><tr><td style=text-align:center>Loacl domain socket</td><td style=text-align:center>s</td><td style=text-align:center>socket system call</td><td style=text-align:center>rm</td></tr><tr><td style=text-align:center>Named pipe</td><td style=text-align:center>p</td><td style=text-align:center>mknod</td><td style=text-align:center>rm</td></tr><tr><td style=text-align:center>Symbolic link</td><td style=text-align:center>l</td><td style=text-align:center>ln -s</td><td style=text-align:center>rm</td></tr></tbody></table><h6 id=good-habit>good habit</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rm -i <span style=color:#75715e>#confirm before rm a file</span>
</span></span></code></pre></div><h3 id=13驱动内核>13.驱动内核</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#filename是要创建的设备文件的名称，type是字符设备的&#34;c&#34;或块设备的&#34;b&#34;，而major和minor则是主要和次要的设备号</span>
</span></span><span style=display:flex><span>mknod filename type major minor
</span></span></code></pre></div><p>/sys的子目录</p><table><thead><tr><th>目录</th><th>它包含的内容</th></tr></thead><tbody><tr><td>block</td><td>关于块设备的信息，如硬盘</td></tr><tr><td>bus</td><td>内核知道的总线：PCI-E、SCSI、USB等</td></tr><tr><td>class</td><td>根据设备的功能类型组织的树状结构</td></tr><tr><td>dev</td><td>设备信息在字符和块设备之间分割</td></tr><tr><td>devices</td><td>所有已发现设备的祖先正确表示</td></tr><tr><td>firmware</td><td>针对平台特定子系统（如ACPI）的接口</td></tr><tr><td>fs</td><td>内核所知的一些（但不是所有）文件系统的目录</td></tr><tr><td>kernel</td><td>内核内部，如缓存和虚拟内存状态</td></tr><tr><td>module</td><td>由内核加载的动态模块</td></tr><tr><td>power</td><td>关于系统电源状态的一些细节；大部分未使用</td></tr></tbody></table><p>Here is the translation of the provided table:</p><p><strong>/proc/sys中的文件，用于某些可调内核参数</strong></p><table><thead><tr><th>文件</th><th>功能描述</th></tr></thead><tbody><tr><td>cdrom/autoclose</td><td>挂载时自动关闭CD-ROM</td></tr><tr><td>cdrom/autoeject</td><td>卸载时自动弹出CD-ROM</td></tr><tr><td>fs/file-max</td><td>设置打开文件的最大数量</td></tr><tr><td>kernel/ctrl-alt-del</td><td>在<control-alt-delete>上重启；可能增加非安全控制台的安全性</td></tr><tr><td>kernel/panic</td><td>内核恐慌后等待重启的秒数：0 = 循环或无限挂起</td></tr><tr><td>kernel/panic_on_oops</td><td>遇到oops或bug后，决定内核的行为：1 = 总是恐慌</td></tr><tr><td>kernel/printk_ratelimit</td><td>设置内核消息之间的最小秒数</td></tr><tr><td>kernel/printk_ratelimit_burst</td><td>在实际执行printk速率限制之前，设置连续消息的数量</td></tr><tr><td>kernel/shmmax</td><td>设置共享内存的最大数量</td></tr><tr><td>net/ip*/conf/default/rp_filter</td><td>启用IP源路由验证a</td></tr><tr><td>net/ip*/icmp_echo_ignore_all</td><td>设置为1时忽略ICMP ping b</td></tr><tr><td>net/ip*/ip_forward</td><td>设置为1时允许IP转发c</td></tr><tr><td>net/ip*/ip_local_port_range</td><td>在连接设置期间设置本地端口范围d</td></tr><tr><td>net/ip*/tcp_syncookies</td><td>保护免受SYN洪水攻击；如果您怀疑有拒绝服务（DoS）攻击，就打开它</td></tr><tr><td>tcp_fin_timeout</td><td>设置等待最后一个TCP FIN包的秒数e</td></tr><tr><td>vm/overcommit_memory</td><td>控制内存过度提交行为，即，当物理内存不足以处理VM分配请求时，内核的反应如何</td></tr><tr><td>vm/overcommit_ratio</td><td>定义在过度提交时将使用多少物理内存（以百分比表示）</td></tr></tbody></table><p>a. 这种反欺骗机制使内核丢弃从“不可能”的路径接收到的数据包。
b. 相关变量icmp_echo_ignore_broadcasts忽略广播ICMP ping。将此值设置为1几乎总是一个好主意。
c. 只有在您明确打算将Linux盒子用作网络路由器时才将此值设置为1。
d. 在发起许多出站连接的服务器上，将此范围增加到1024–65000。
e. 尝试在高流量服务器上将此值设置得较低（约20）以提高性能。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lsmod <span style=color:#75715e>#lsmod is a trivial program which nicely formats the contents of the /proc/modules, showing what kernel modules are currently loaded</span>
</span></span></code></pre></div><h3 id=15路由选择>15.路由选择</h3><p>这一章单独学</p><h3 id=18nfs>18.NFS</h3><h3 id=21网络管理与调试>21.网络管理与调试</h3><p>tcpdump</p><p>wireshark</p><h3 id=29性能测试>29.性能测试</h3><table><thead><tr><th>File</th><th>Contents</th></tr></thead><tbody><tr><td>/proc/cpuinfo</td><td>CPU type and description</td></tr><tr><td>/proc/meminfo</td><td>Memory size and usage</td></tr><tr><td>/proc/diskstats</td><td>Disk devices and usage statistics</td></tr></tbody></table><p><code>load average: which represents the average number of runnable processes.It gives you a good idea of how many pieces the CPU pie is being divided into</code></p><h3 id=c-vs-cpp>c vs cpp</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>C 和 C++ 之间在语法上有很多细微的区别，下面列举了其中一些显著的不同：
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1. **注释**:
</span></span><span style=display:flex><span>   - C：只支持 <span style=color:#e6db74>`</span>/* */<span style=color:#e6db74>`</span> 格式。
</span></span><span style=display:flex><span>   - C++：除了支持 <span style=color:#e6db74>`</span>/* */<span style=color:#e6db74>`</span>，还支持 <span style=color:#e6db74>`</span>//<span style=color:#e6db74>`</span> 格式的行注释。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2. **数据类型**:
</span></span><span style=display:flex><span>   - C++ 增加了 <span style=color:#e6db74>`</span>bool<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>string<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>wchar_t<span style=color:#e6db74>`</span> 等数据类型。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>3. **变量声明**：
</span></span><span style=display:flex><span>   - C：变量必须在一个块或函数的开始部分之前声明。
</span></span><span style=display:flex><span>   - C++：可以在需要时的任何地方声明变量。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>4. **函数声明**：
</span></span><span style=display:flex><span>   - C：如果没有明确返回类型，函数会默认返回 <span style=color:#e6db74>`</span>int<span style=color:#e6db74>`</span>。
</span></span><span style=display:flex><span>   - C++：必须明确指定函数的返回类型。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>5. **新的关键字**：
</span></span><span style=display:flex><span>   - C++ 引入了如 <span style=color:#e6db74>`</span>class<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>new<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>delete<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>public<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>private<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>protected<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>this<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>virtual<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>namespace<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>template<span style=color:#e6db74>`</span> 等关键字。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>6. **类与对象**：
</span></span><span style=display:flex><span>   - C++ 支持面向对象的编程，引入了类和对象的概念。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>7. **函数重载**：
</span></span><span style=display:flex><span>   - C：不支持函数重载。
</span></span><span style=display:flex><span>   - C++：支持函数重载，即可以有多个同名函数，但参数不同。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>8. **运算符重载**：
</span></span><span style=display:flex><span>   - C++ 允许运算符重载，而 C 不支持。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>9. **命名空间**：
</span></span><span style=display:flex><span>   - C++ 有命名空间的概念，例如 <span style=color:#e6db74>`</span>std<span style=color:#e6db74>`</span>。这允许我们创建分隔的符号空间，使代码组织更加清晰。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>10. **输入/输出操作**：
</span></span><span style=display:flex><span>   - C：使用 <span style=color:#e6db74>`</span>printf<span style=color:#f92672>()</span><span style=color:#e6db74>`</span> 和 <span style=color:#e6db74>`</span>scanf<span style=color:#f92672>()</span><span style=color:#e6db74>`</span>。
</span></span><span style=display:flex><span>   - C++：可以使用 <span style=color:#e6db74>`</span>cin<span style=color:#e6db74>`</span> 和 <span style=color:#e6db74>`</span>cout<span style=color:#e6db74>`</span>，并且支持流操作。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>11. **内存分配**：
</span></span><span style=display:flex><span>   - C：使用 <span style=color:#e6db74>`</span>malloc<span style=color:#f92672>()</span><span style=color:#e6db74>`</span> 和 <span style=color:#e6db74>`</span>free<span style=color:#f92672>()</span><span style=color:#e6db74>`</span>。
</span></span><span style=display:flex><span>   - C++：使用 <span style=color:#e6db74>`</span>new<span style=color:#e6db74>`</span> 和 <span style=color:#e6db74>`</span>delete<span style=color:#e6db74>`</span>。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>12. **异常处理**：
</span></span><span style=display:flex><span>   - C：不支持异常处理。
</span></span><span style=display:flex><span>   - C++：支持通过 <span style=color:#e6db74>`</span>try<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>catch<span style=color:#e6db74>`</span> 和 <span style=color:#e6db74>`</span>throw<span style=color:#e6db74>`</span> 进行异常处理。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>13. **模板**：
</span></span><span style=display:flex><span>   - C：不支持。
</span></span><span style=display:flex><span>   - C++：支持函数和类模板。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>14. **类型转换**：
</span></span><span style=display:flex><span>   - C：使用强制类型转换。
</span></span><span style=display:flex><span>   - C++：除了强制类型转换，还有 <span style=color:#e6db74>`</span>static_cast<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>dynamic_cast<span style=color:#e6db74>`</span>、<span style=color:#e6db74>`</span>const_cast<span style=color:#e6db74>`</span> 和 <span style=color:#e6db74>`</span>reinterpret_cast<span style=color:#e6db74>`</span>。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>15. **内联函数**：
</span></span><span style=display:flex><span>   - C：使用 <span style=color:#e6db74>`</span>inline<span style=color:#e6db74>`</span> 关键字可以在 C99 标准中定义内联函数。
</span></span><span style=display:flex><span>   - C++：内联函数更为普遍，并可以直接在类定义中提供。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>这只是两者之间语法差异的粗略概览，还有许多其他细节和差异。尽管如此，C++ 是与 C 兼容的，意味着大多数有效的 C 程序也是有效的 C++ 程序（但并不总是如此）。
</span></span></code></pre></div><img src=/50use/linuxperformance.jpg width=1000><p>这张图展示了Linux性能工具的全景。它涵盖了从应用程序、系统库、系统调用、到硬件等多个层面。我将为你概括每个工具的基本用途：</p><ol><li><p><strong>System Call Interface</strong>:</p><ul><li><code>strace</code>: 跟踪系统调用和信号。</li><li><code>perf</code>: Linux性能观察、分析和调试工具。</li><li><code>ltrace</code>: 跟踪用户空间函数调用。</li></ul></li><li><p><strong>Applications</strong>:</p><ul><li><code>opensnoop</code>, <code>statsnoop</code>, <code>syncsnoop</code>, etc.: 用于观察文件打开、状态和同步操作。</li></ul></li><li><p><strong>File Systems</strong>:</p><ul><li><code>ext4slower</code>, <code>ext4dist</code>, etc.: 观察EXT4文件系统的慢操作。</li><li><code>xfs*</code>: XFS文件系统的相关工具。</li></ul></li><li><p><strong>Volume Manager</strong>:</p><ul><li><code>df</code>, <code>mdadm</code>, <code>dmsetup</code>, etc.: 观察和管理磁盘和存储卷。</li></ul></li><li><p><strong>Block Device Interface</strong>:</p><ul><li><code>biotop</code>, <code>biosnoop</code>, etc.: 观察和分析块设备I/O。</li></ul></li><li><p><strong>Device Drivers</strong>:</p><ul><li><code>ss</code>, <code>tcpdump</code>, <code>iptables</code>, etc.: 用于网络和设备驱动的分析。</li></ul></li><li><p><strong>System Libraries</strong>:</p><ul><li><code>gethostlatency</code>, <code>cudastat</code>, <code>dmesg</code>, etc.: 观察和分析与系统库相关的性能。</li></ul></li><li><p><strong>Schedulers</strong>:</p><ul><li><code>schedtool</code>, <code>mpstat</code>, <code>top</code>, etc.: 观察和管理任务调度。</li></ul></li><li><p><strong>Virtual Memory</strong>:</p><ul><li><code>slabtop</code>, <code>vmstat</code>, etc.: 分析虚拟内存使用情况。</li></ul></li><li><p><strong>Hardware</strong>:</p></li></ol><ul><li><code>intel_gpu_top</code>, <code>intel_gpu_frequency</code>, etc.: 观察和管理硬件性能，特别是GPU。</li></ul><ol start=11><li><strong>Others</strong>:</li></ol><ul><li><code>iostat</code>, <code>netstat</code>, <code>ip</code>, <code>ethool</code>, etc.: 这些是多种用途的工具，包括磁盘I/O、网络状态和接口设置。</li></ul><p>此外，图中的注释提到了工具的来源和类型，如<code>observability tools</code> (可观察性工具)、<code>static performance tools</code> (静态性能工具) 和 <code>perf-tools/bcc tracing tools</code> (基于BCC的追踪工具)。</p><p>这只是每个工具的简要概述。为了更深入地理解每个工具的功能和用法，建议查阅相应的手册页或其他文档。</p><div class=edit-meta><br></div><nav class=pagination><a class="nav nav-prev" href=https://mlcore-engine.github.io/linux_foundation/ title=Linux基础知识><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Linux基础知识</a>
<a class="nav nav-next" href=https://mlcore-engine.github.io/linux_foundation/linux-common/ title="Linux Common">Next - Linux Common <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://mlcore-engine.github.io/>About Me</a></li><li><a href=https://mlcore-engine.github.io/learn_cs/>自学CS</a></li><li><a href=https://mlcore-engine.github.io/learn_english/>英语学习</a></li><li><a href=https://mlcore-engine.github.io/math_foundation/>矩阵的5种变换</a></li><li class=has-sub-menu><a href=https://mlcore-engine.github.io/transformer/>transformer<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://mlcore-engine.github.io/transformer/do_sample_para/>Do_sample_para</a></li><li><a href=https://mlcore-engine.github.io/transformer/entropy/>Entropy</a></li></ul></li><li class=has-sub-menu><a href=https://mlcore-engine.github.io/kubernetes/>kubernetes<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://mlcore-engine.github.io/kubernetes/installation/>Installation</a></li></ul></li><li class=has-sub-menu><a href=https://mlcore-engine.github.io/golang/>golang<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://mlcore-engine.github.io/golang/foundation/>Foundation</a></li></ul></li><li class="parent has-sub-menu"><a href=https://mlcore-engine.github.io/linux_foundation/>Linux基础知识<span class="mark opened">-</span></a><ul class=sub-menu><li class=active><a href=https://mlcore-engine.github.io/linux_foundation/linux-commands/>50个常用Linux命令</a></li><li><a href=https://mlcore-engine.github.io/linux_foundation/linux-common/>Linux Common</a></li></ul></li><li class=has-sub-menu><a href=https://mlcore-engine.github.io/algorithm/>Algorithms<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://mlcore-engine.github.io/algorithm/dynamic-programmnig/>Dynamic Programming</a></li></ul></li><li class=has-sub-menu><a href=https://mlcore-engine.github.io/exercise/>Exercises<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://mlcore-engine.github.io/exercise/workout/>Workout</a></li></ul></li><li class=has-sub-menu><a href=https://mlcore-engine.github.io/others/>Others<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://mlcore-engine.github.io/others/create-hugo-gitpage/>使用 Hugo 和 GitHub Pages 创建个人网站</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>